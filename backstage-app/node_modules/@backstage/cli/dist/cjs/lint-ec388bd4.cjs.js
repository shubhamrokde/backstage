'use strict';

var index = require('./index-f077c8c1.cjs.js');
var eslint = require('eslint');
require('commander');
require('chalk');
require('fs-extra');
require('semver');
require('@backstage/cli-common');
require('@backstage/errors');

var lint = async (cmd, cmdArgs) => {
  const eslint$1 = new eslint.ESLint({
    cwd: index.paths.targetDir,
    fix: cmd.fix,
    extensions: ["js", "jsx", "ts", "tsx", "mjs", "cjs"]
  });
  const results = await eslint$1.lintFiles(cmdArgs != null ? cmdArgs : ["."]);
  if (cmd.fix) {
    await eslint.ESLint.outputFixes(results);
  }
  const formatter = await eslint$1.loadFormatter(cmd.format);
  if (cmd.format === "eslint-formatter-friendly") {
    process.chdir(index.paths.targetRoot);
  }
  const resultText = formatter.format(results);
  if (resultText) {
    console.log(resultText);
    process.exit(1);
  }
};

exports["default"] = lint;
//# sourceMappingURL=lint-ec388bd4.cjs.js.map
