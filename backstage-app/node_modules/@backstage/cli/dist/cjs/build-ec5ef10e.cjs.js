'use strict';

var fs = require('fs-extra');
require('webpack');
require('path');
require('fork-ts-checker-webpack-plugin');
require('html-webpack-plugin');
require('react-dev-utils/ModuleScopePlugin');
require('run-script-webpack-plugin');
require('webpack-node-externals');
require('@backstage/cli-common');
require('@manypkg/get-packages');
require('./paths-dd551f11.cjs.js');
require('mini-css-extract-plugin');
var index = require('./index-f077c8c1.cjs.js');
require('./run-3d51d6fe.cjs.js');
require('eslint-webpack-plugin');
require('lodash/pickBy');
var bundle = require('./bundle-2f078b70.cjs.js');
require('webpack-dev-server');
require('react-dev-utils/openBrowser');
var parallel = require('./parallel-8286d3fa.cjs.js');
var config = require('./config-51517796.cjs.js');
require('./svgrTemplate-550efce6.cjs.js');
require('commander');
require('chalk');
require('semver');
require('@backstage/errors');
require('child_process');
require('util');
require('yn');
require('react-dev-utils/FileSizeReporter');
require('react-dev-utils/formatWebpackMessages');
require('os');
require('worker_threads');
require('@backstage/config-loader');
require('@backstage/config');
require('./PackageGraph-8d811c7b.cjs.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var fs__default = /*#__PURE__*/_interopDefaultLegacy(fs);

var build = async (cmd) => {
  const { name } = await fs__default["default"].readJson(index.paths.resolveTarget("package.json"));
  await bundle.buildBundle({
    entry: "src/index",
    parallelism: parallel.getEnvironmentParallelism(),
    statsJsonEnabled: cmd.stats,
    ...await config.loadCliConfig({
      args: cmd.config,
      fromPackage: name
    })
  });
};

exports["default"] = build;
//# sourceMappingURL=build-ec5ef10e.cjs.js.map
