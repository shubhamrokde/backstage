{"version":3,"file":"index-896aeac9.esm.js","sources":["../../src/components/EntityLinksCard/EntityLinksEmptyState.tsx","../../src/components/EntityLinksCard/IconLink.tsx","../../src/components/EntityLinksCard/useDynamicColumns.tsx","../../src/components/EntityLinksCard/LinksGridList.tsx","../../src/components/EntityLinksCard/EntityLinksCard.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { BackstageTheme } from '@backstage/theme';\nimport { Button, makeStyles, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { CodeSnippet } from '@backstage/core-components';\n\nconst ENTITY_YAML = `metadata:\n  name: example\n  links:\n    - url: https://dashboard.example.com\n      title: My Dashboard\n      icon: dashboard`;\n\n/** @public */\nexport type EntityLinksEmptyStateClassKey = 'code';\n\nconst useStyles = makeStyles<BackstageTheme>(\n  theme => ({\n    code: {\n      borderRadius: 6,\n      margin: `${theme.spacing(2)}px 0px`,\n      background: theme.palette.type === 'dark' ? '#444' : '#fff',\n    },\n  }),\n  { name: 'PluginCatalogEntityLinksEmptyState' },\n);\n\nexport function EntityLinksEmptyState() {\n  const classes = useStyles();\n\n  return (\n    <>\n      <Typography variant=\"body1\">\n        No links defined for this entity. You can add links to your entity YAML\n        as shown in the highlighted example below:\n      </Typography>\n      <div className={classes.code}>\n        <CodeSnippet\n          text={ENTITY_YAML}\n          language=\"yaml\"\n          showLineNumbers\n          highlightedNumbers={[3, 4, 5, 6]}\n          customStyle={{ background: 'inherit', fontSize: '115%' }}\n        />\n      </div>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        target=\"_blank\"\n        href=\"https://backstage.io/docs/features/software-catalog/descriptor-format#links-optional\"\n      >\n        Read more\n      </Button>\n    </>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { makeStyles, Box, Typography } from '@material-ui/core';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport React from 'react';\nimport { Link } from '@backstage/core-components';\nimport { IconComponent } from '@backstage/core-plugin-api';\n\nconst useStyles = makeStyles({\n  svgIcon: {\n    display: 'inline-block',\n    '& svg': {\n      display: 'inline-block',\n      fontSize: 'inherit',\n      verticalAlign: 'baseline',\n    },\n  },\n});\n\nexport function IconLink(props: {\n  href: string;\n  text?: string;\n  Icon?: IconComponent;\n}) {\n  const { href, text, Icon } = props;\n  const classes = useStyles();\n\n  return (\n    <Box display=\"flex\">\n      <Box mr={1} className={classes.svgIcon}>\n        <Typography component=\"div\">\n          {Icon ? <Icon /> : <LanguageIcon />}\n        </Typography>\n      </Box>\n      <Box flexGrow=\"1\">\n        <Link to={href} target=\"_blank\" rel=\"noopener\">\n          {text || href}\n        </Link>\n      </Box>\n    </Box>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Theme, useMediaQuery } from '@material-ui/core';\nimport { Breakpoint, ColumnBreakpoints } from './types';\n\nconst colDefaults: ColumnBreakpoints = {\n  xs: 1,\n  sm: 1,\n  md: 1,\n  lg: 2,\n  xl: 3,\n};\n\nexport function useDynamicColumns(\n  cols: ColumnBreakpoints | number | undefined,\n): number {\n  const matches: (Breakpoint | null)[] = [\n    useMediaQuery((theme: Theme) => theme.breakpoints.up('xl')) ? 'xl' : null,\n    useMediaQuery((theme: Theme) => theme.breakpoints.up('lg')) ? 'lg' : null,\n    useMediaQuery((theme: Theme) => theme.breakpoints.up('md')) ? 'md' : null,\n    useMediaQuery((theme: Theme) => theme.breakpoints.up('sm')) ? 'sm' : null,\n    useMediaQuery((theme: Theme) => theme.breakpoints.up('xs')) ? 'xs' : null,\n  ];\n\n  let numOfCols = 1;\n\n  if (typeof cols === 'number') {\n    numOfCols = cols;\n  } else {\n    const breakpoint = matches.find(k => k !== null) ?? 'xs';\n    numOfCols = cols?.[breakpoint] ?? colDefaults[breakpoint];\n  }\n\n  return numOfCols;\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ImageList, ImageListItem } from '@material-ui/core';\nimport React from 'react';\nimport { IconLink } from './IconLink';\nimport { ColumnBreakpoints } from './types';\nimport { useDynamicColumns } from './useDynamicColumns';\nimport { IconComponent } from '@backstage/core-plugin-api';\n\nexport interface LinksGridListItem {\n  href: string;\n  text?: string;\n  Icon?: IconComponent;\n}\n\ninterface LinksGridListProps {\n  items: LinksGridListItem[];\n  cols?: ColumnBreakpoints | number;\n}\n\nexport function LinksGridList(props: LinksGridListProps) {\n  const { items, cols = undefined } = props;\n  const numOfCols = useDynamicColumns(cols);\n\n  return (\n    <ImageList rowHeight=\"auto\" cols={numOfCols}>\n      {items.map(({ text, href, Icon }, i) => (\n        <ImageListItem key={i}>\n          <IconLink href={href} text={text ?? href} Icon={Icon} />\n        </ImageListItem>\n      ))}\n    </ImageList>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport LanguageIcon from '@material-ui/icons/Language';\nimport React from 'react';\nimport { EntityLinksEmptyState } from './EntityLinksEmptyState';\nimport { LinksGridList } from './LinksGridList';\nimport { ColumnBreakpoints } from './types';\nimport { IconComponent, useApp } from '@backstage/core-plugin-api';\nimport { InfoCard } from '@backstage/core-components';\n\n/** @public */\nexport interface EntityLinksCardProps {\n  cols?: ColumnBreakpoints | number;\n  variant?: 'gridItem';\n}\n\nexport function EntityLinksCard(props: EntityLinksCardProps) {\n  const { cols = undefined, variant } = props;\n  const { entity } = useEntity();\n  const app = useApp();\n\n  const iconResolver = (key?: string): IconComponent =>\n    key ? app.getSystemIcon(key) ?? LanguageIcon : LanguageIcon;\n\n  const links = entity?.metadata?.links;\n\n  return (\n    <InfoCard title=\"Links\" variant={variant}>\n      {!links || links.length === 0 ? (\n        <EntityLinksEmptyState />\n      ) : (\n        <LinksGridList\n          cols={cols}\n          items={links.map(({ url, title, icon }) => ({\n            text: title ?? url,\n            href: url,\n            Icon: iconResolver(icon),\n          }))}\n        />\n      )}\n    </InfoCard>\n  );\n}\n"],"names":["useStyles"],"mappings":";;;;;;;AAqBA,MAAM,WAAc,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAA,CAAA,CAAA;AAUpB,MAAMA,WAAA,GAAY,WAChB,CAAU,KAAA,MAAA;AAAA,EACR,IAAM,EAAA;AAAA,IACJ,YAAc,EAAA,CAAA;AAAA,IACd,MAAA,EAAQ,CAAG,EAAA,KAAA,CAAM,OAAQ,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA;AAAA,IACzB,UAAY,EAAA,KAAA,CAAM,OAAQ,CAAA,IAAA,KAAS,SAAS,MAAS,GAAA,MAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAGzD,EAAE,IAAM,EAAA,oCAAA,EAAA,CAAA,CAAA;AAG8B,SAAA,qBAAA,GAAA;AACtC,EAAA,MAAM,OAAU,GAAAA,WAAA,EAAA,CAAA;AAEhB,EACE,uBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,sCACG,UAAD,EAAA;AAAA,IAAY,OAAQ,EAAA,OAAA;AAAA,GAAQ,EAAA,oHAAA,CAAA,sCAI3B,KAAD,EAAA;AAAA,IAAK,WAAW,OAAQ,CAAA,IAAA;AAAA,GAAA,sCACrB,WAAD,EAAA;AAAA,IACE,IAAM,EAAA,WAAA;AAAA,IACN,QAAS,EAAA,MAAA;AAAA,IACT,eAAe,EAAA,IAAA;AAAA,IACf,kBAAoB,EAAA,CAAC,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,CAAA;AAAA,IAC9B,WAAa,EAAA,EAAE,UAAY,EAAA,SAAA,EAAW,QAAU,EAAA,MAAA,EAAA;AAAA,GAAA,CAAA,CAAA,sCAGnD,MAAD,EAAA;AAAA,IACE,OAAQ,EAAA,WAAA;AAAA,IACR,KAAM,EAAA,SAAA;AAAA,IACN,MAAO,EAAA,QAAA;AAAA,IACP,IAAK,EAAA,sFAAA;AAAA,GACN,EAAA,WAAA,CAAA,CAAA,CAAA;AAAA;;AC3CP,MAAM,YAAY,UAAW,CAAA;AAAA,EAC3B,OAAS,EAAA;AAAA,IACP,OAAS,EAAA,cAAA;AAAA,IACT,OAAS,EAAA;AAAA,MACP,OAAS,EAAA,cAAA;AAAA,MACT,QAAU,EAAA,SAAA;AAAA,MACV,aAAe,EAAA,UAAA;AAAA,KAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA;AAKd,SAAA,QAAA,CAAkB,KAItB,EAAA;AACD,EAAM,MAAA,EAAE,IAAM,EAAA,IAAA,EAAM,IAAS,EAAA,GAAA,KAAA,CAAA;AAC7B,EAAA,MAAM,OAAU,GAAA,SAAA,EAAA,CAAA;AAEhB,EAAA,2CACG,GAAD,EAAA;AAAA,IAAK,OAAQ,EAAA,MAAA;AAAA,GAAA,sCACV,GAAD,EAAA;AAAA,IAAK,EAAI,EAAA,CAAA;AAAA,IAAG,WAAW,OAAQ,CAAA,OAAA;AAAA,GAAA,sCAC5B,UAAD,EAAA;AAAA,IAAY,SAAU,EAAA,KAAA;AAAA,GACnB,EAAA,IAAA,uCAAQ,IAAD,EAAA,IAAA,CAAA,uCAAY,YAAD,EAAA,IAAA,CAAA,CAAA,CAAA,sCAGtB,GAAD,EAAA;AAAA,IAAK,QAAS,EAAA,GAAA;AAAA,GAAA,sCACX,IAAD,EAAA;AAAA,IAAM,EAAI,EAAA,IAAA;AAAA,IAAM,MAAO,EAAA,QAAA;AAAA,IAAS,GAAI,EAAA,UAAA;AAAA,GAAA,EACjC,IAAQ,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;AC/BnB,MAAM,WAAiC,GAAA;AAAA,EACrC,EAAI,EAAA,CAAA;AAAA,EACJ,EAAI,EAAA,CAAA;AAAA,EACJ,EAAI,EAAA,CAAA;AAAA,EACJ,EAAI,EAAA,CAAA;AAAA,EACJ,EAAI,EAAA,CAAA;AAAA,CAAA,CAAA;AAGC,SAAA,iBAAA,CACL,IACQ,EAAA;AA7BV,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AA8BE,EAAA,MAAM,OAAiC,GAAA;AAAA,IACrC,cAAc,CAAC,KAAA,KAAiB,MAAM,WAAY,CAAA,EAAA,CAAG,SAAS,IAAO,GAAA,IAAA;AAAA,IACrE,cAAc,CAAC,KAAA,KAAiB,MAAM,WAAY,CAAA,EAAA,CAAG,SAAS,IAAO,GAAA,IAAA;AAAA,IACrE,cAAc,CAAC,KAAA,KAAiB,MAAM,WAAY,CAAA,EAAA,CAAG,SAAS,IAAO,GAAA,IAAA;AAAA,IACrE,cAAc,CAAC,KAAA,KAAiB,MAAM,WAAY,CAAA,EAAA,CAAG,SAAS,IAAO,GAAA,IAAA;AAAA,IACrE,cAAc,CAAC,KAAA,KAAiB,MAAM,WAAY,CAAA,EAAA,CAAG,SAAS,IAAO,GAAA,IAAA;AAAA,GAAA,CAAA;AAGvE,EAAA,IAAI,SAAY,GAAA,CAAA,CAAA;AAEhB,EAAI,IAAA,OAAO,SAAS,QAAU,EAAA;AAC5B,IAAY,SAAA,GAAA,IAAA,CAAA;AAAA,GACP,MAAA;AACL,IAAA,MAAM,aAAa,CAAQ,EAAA,GAAA,OAAA,CAAA,IAAA,CAAK,CAAK,CAAA,KAAA,CAAA,KAAM,UAAxB,IAAiC,GAAA,EAAA,GAAA,IAAA,CAAA;AACpD,IAAY,SAAA,GAAA,CAAA,EAAA,GAAA,IAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,IAAA,CAAO,UAAP,CAAA,KAAA,IAAA,GAAA,EAAA,GAAsB,WAAY,CAAA,UAAA,CAAA,CAAA;AAAA,GAAA;AAGhD,EAAO,OAAA,SAAA,CAAA;AAAA;;ACbF,SAAA,aAAA,CAAuB,KAA2B,EAAA;AACvD,EAAM,MAAA,EAAE,KAAO,EAAA,IAAA,GAAO,KAAc,CAAA,EAAA,GAAA,KAAA,CAAA;AACpC,EAAA,MAAM,YAAY,iBAAkB,CAAA,IAAA,CAAA,CAAA;AAEpC,EAAA,2CACG,SAAD,EAAA;AAAA,IAAW,SAAU,EAAA,MAAA;AAAA,IAAO,IAAM,EAAA,SAAA;AAAA,GAC/B,EAAA,KAAA,CAAM,IAAI,CAAC,EAAE,MAAM,IAAM,EAAA,IAAA,EAAA,EAAQ,CAChC,qBAAA,KAAA,CAAA,aAAA,CAAC,aAAD,EAAA;AAAA,IAAe,GAAK,EAAA,CAAA;AAAA,GAAA,sCACjB,QAAD,EAAA;AAAA,IAAU,IAAA;AAAA,IAAY,MAAM,IAAQ,IAAA,IAAA,GAAA,IAAA,GAAA,IAAA;AAAA,IAAM,IAAA;AAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;ACX7C,SAAA,eAAA,CAAyB,KAA6B,EAAA;AA/B7D,EAAA,IAAA,EAAA,CAAA;AAgCE,EAAM,MAAA,EAAE,IAAO,GAAA,KAAA,CAAA,EAAW,OAAY,EAAA,GAAA,KAAA,CAAA;AACtC,EAAA,MAAM,EAAE,MAAW,EAAA,GAAA,SAAA,EAAA,CAAA;AACnB,EAAA,MAAM,GAAM,GAAA,MAAA,EAAA,CAAA;AAEZ,EAAM,MAAA,YAAA,GAAe,CAAC,GAA6B,KAAA;AApCrD,IAAA,IAAA,GAAA,CAAA;AAqCI,IAAA,OAAA,GAAA,GAAM,CAAI,GAAA,GAAA,GAAA,CAAA,aAAA,CAAc,GAAlB,CAAA,KAAA,IAAA,GAAA,GAAA,GAA0B,YAAe,GAAA,YAAA,CAAA;AAAA,GAAA,CAAA;AAEjD,EAAM,MAAA,KAAA,GAAQ,CAAQ,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,QAAA,KAAR,IAAkB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,CAAA;AAEhC,EAAA,2CACG,QAAD,EAAA;AAAA,IAAU,KAAM,EAAA,OAAA;AAAA,IAAQ,OAAA;AAAA,GACrB,EAAA,CAAC,SAAS,KAAM,CAAA,MAAA,KAAW,oBACzB,KAAA,CAAA,aAAA,CAAA,qBAAA,EAAD,IAEA,CAAA,mBAAA,KAAA,CAAA,aAAA,CAAC,aAAD,EAAA;AAAA,IACE,IAAA;AAAA,IACA,OAAO,KAAM,CAAA,GAAA,CAAI,CAAC,EAAE,GAAA,EAAK,OAAO,IAAY,EAAA,MAAA;AAAA,MAC1C,MAAM,KAAS,IAAA,IAAA,GAAA,KAAA,GAAA,GAAA;AAAA,MACf,IAAM,EAAA,GAAA;AAAA,MACN,MAAM,YAAa,CAAA,IAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AAAA,GAAA,CAAA,CAAA,CAAA;AAAA;;;;"}