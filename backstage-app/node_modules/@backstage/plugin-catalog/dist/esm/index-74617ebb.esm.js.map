{"version":3,"file":"index-74617ebb.esm.js","sources":["../../src/apis/StarredEntitiesApi/migration.ts","../../src/apis/StarredEntitiesApi/DefaultStarredEntitiesApi.ts","../../src/routes.ts","../../src/components/AboutCard/AboutField.tsx","../../src/components/AboutCard/AboutContent.tsx","../../src/components/AboutCard/AboutCard.tsx","../../src/components/CatalogKindHeader/CatalogKindHeader.tsx","../../src/components/CatalogSearchResultListItem/CatalogSearchResultListItem.tsx","../../src/components/CatalogTable/columns.tsx","../../src/components/CatalogTable/CatalogTable.tsx","../../src/components/EntityContextMenu/EntityContextMenu.tsx","../../src/components/EntityLayout/EntityLayout.tsx","../../src/components/EntityOrphanWarning/DeleteEntityDialog.tsx","../../src/components/EntityOrphanWarning/EntityOrphanWarning.tsx","../../src/components/EntityProcessingErrorsPanel/EntityProcessingErrorsPanel.tsx","../../src/components/EntitySwitch/EntitySwitch.tsx","../../src/components/EntitySwitch/conditions.ts","../../src/components/FilteredEntityLayout/index.ts","../../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { stringifyEntityRef } from '@backstage/catalog-model';\nimport { StorageApi } from '@backstage/core-plugin-api';\nimport { isArray, isString } from 'lodash';\n\n/**\n * Migrate the starred entities from the old format (entity:<kind>:<namespace>:<name>) from the\n * old storage location (/settings/starredEntities) to entity references in the new location\n * (/starredEntities/entityRefs).\n *\n * This will only be executed once since the old location is cleared.\n *\n * @param storageApi - the StorageApi to migrate\n */\nexport async function performMigrationToTheNewBucket({\n  storageApi,\n}: {\n  storageApi: StorageApi;\n}) {\n  const source = storageApi.forBucket('settings');\n  const target = storageApi.forBucket('starredEntities');\n\n  const oldStarredEntities = source.snapshot('starredEntities').value;\n\n  if (!isArray(oldStarredEntities)) {\n    // nothing to do\n    return;\n  }\n  const targetEntities = new Set(\n    target.snapshot<string[]>('entityRefs').value ?? [],\n  );\n\n  oldStarredEntities\n    .filter(isString)\n    // extract the old format 'entity:<kind>:<namespace>:<name>'\n    .map(old => old.split(':'))\n    // check if the format is valid\n    .filter(split => split.length === 4 && split[0] === 'entity')\n    // convert to entity references\n    .map(([_, kind, namespace, name]) =>\n      stringifyEntityRef({ kind, namespace, name }),\n    )\n    .forEach(e => targetEntities.add(e));\n\n  await target.set('entityRefs', Array.from(targetEntities));\n\n  await source.remove('starredEntities');\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { StorageApi } from '@backstage/core-plugin-api';\nimport { StarredEntitiesApi } from '@backstage/plugin-catalog-react';\nimport { Observable } from '@backstage/types';\nimport ObservableImpl from 'zen-observable';\nimport { performMigrationToTheNewBucket } from './migration';\n\n/**\n * Default implementation of the StarredEntitiesApi that is backed by the StorageApi.\n *\n * @public\n */\nexport class DefaultStarredEntitiesApi implements StarredEntitiesApi {\n  private readonly settingsStore: StorageApi;\n  private starredEntities: Set<string>;\n\n  constructor(opts: { storageApi: StorageApi }) {\n    // no need to await. The updated content will be caught by the observe$\n    performMigrationToTheNewBucket(opts).then();\n\n    this.settingsStore = opts.storageApi.forBucket('starredEntities');\n\n    this.starredEntities = new Set(\n      this.settingsStore.snapshot<string[]>('entityRefs').value ?? [],\n    );\n\n    this.settingsStore.observe$<string[]>('entityRefs').subscribe({\n      next: next => {\n        this.starredEntities = new Set(next.value ?? []);\n        this.notifyChanges();\n      },\n    });\n  }\n\n  async toggleStarred(entityRef: string): Promise<void> {\n    if (this.starredEntities.has(entityRef)) {\n      this.starredEntities.delete(entityRef);\n    } else {\n      this.starredEntities.add(entityRef);\n    }\n\n    await this.settingsStore.set(\n      'entityRefs',\n      Array.from(this.starredEntities),\n    );\n  }\n\n  starredEntitie$(): Observable<Set<string>> {\n    return this.observable;\n  }\n\n  private readonly subscribers = new Set<\n    ZenObservable.SubscriptionObserver<Set<string>>\n  >();\n\n  private readonly observable = new ObservableImpl<Set<string>>(subscriber => {\n    // forward the the latest value\n    subscriber.next(new Set(this.starredEntities));\n\n    this.subscribers.add(subscriber);\n    return () => {\n      this.subscribers.delete(subscriber);\n    };\n  });\n\n  private notifyChanges() {\n    for (const subscription of this.subscribers) {\n      subscription.next(new Set(this.starredEntities));\n    }\n  }\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createExternalRouteRef,\n  createRouteRef,\n} from '@backstage/core-plugin-api';\n\nexport const createComponentRouteRef = createExternalRouteRef({\n  id: 'create-component',\n  optional: true,\n});\n\nexport const viewTechDocRouteRef = createExternalRouteRef({\n  id: 'view-techdoc',\n  optional: true,\n  params: ['namespace', 'kind', 'name'],\n});\n\nexport const rootRouteRef = createRouteRef({\n  id: 'catalog',\n});\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useElementFilter } from '@backstage/core-plugin-api';\nimport { Grid, makeStyles, Typography } from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles(theme => ({\n  value: {\n    fontWeight: 'bold',\n    overflow: 'hidden',\n    lineHeight: '24px',\n    wordBreak: 'break-word',\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: 'uppercase',\n    fontSize: '10px',\n    fontWeight: 'bold',\n    letterSpacing: 0.5,\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n  },\n}));\n\n/**\n * Props for {@link AboutField}.\n *\n * @public\n */\nexport interface AboutFieldProps {\n  label: string;\n  value?: string;\n  gridSizes?: Record<string, number>;\n  children?: React.ReactNode;\n}\n\n/** @public */\nexport function AboutField(props: AboutFieldProps) {\n  const { label, value, gridSizes, children } = props;\n  const classes = useStyles();\n\n  const childElements = useElementFilter(children, c => c.getElements());\n\n  // Content is either children or a string prop `value`\n  const content =\n    childElements.length > 0 ? (\n      childElements\n    ) : (\n      <Typography variant=\"body2\" className={classes.value}>\n        {value || `unknown`}\n      </Typography>\n    );\n  return (\n    <Grid item {...gridSizes}>\n      <Typography variant=\"subtitle2\" className={classes.label}>\n        {label}\n      </Typography>\n      {content}\n    </Grid>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Entity,\n  RELATION_OWNED_BY,\n  RELATION_PART_OF,\n} from '@backstage/catalog-model';\nimport {\n  EntityRefLinks,\n  getEntityRelations,\n} from '@backstage/plugin-catalog-react';\nimport { Chip, Grid, makeStyles, Typography } from '@material-ui/core';\nimport React from 'react';\nimport { AboutField } from './AboutField';\n\nconst useStyles = makeStyles({\n  description: {\n    wordBreak: 'break-word',\n  },\n});\n\n/**\n * Props for {@link AboutContent}.\n *\n * @public\n */\nexport interface AboutContentProps {\n  entity: Entity;\n}\n\n/** @public */\nexport function AboutContent(props: AboutContentProps) {\n  const { entity } = props;\n  const classes = useStyles();\n  const isSystem = entity.kind.toLocaleLowerCase('en-US') === 'system';\n  const isResource = entity.kind.toLocaleLowerCase('en-US') === 'resource';\n  const isComponent = entity.kind.toLocaleLowerCase('en-US') === 'component';\n  const isAPI = entity.kind.toLocaleLowerCase('en-US') === 'api';\n  const isTemplate = entity.kind.toLocaleLowerCase('en-US') === 'template';\n  const isLocation = entity.kind.toLocaleLowerCase('en-US') === 'location';\n  const isGroup = entity.kind.toLocaleLowerCase('en-US') === 'group';\n\n  const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: 'system',\n  });\n  const partOfComponentRelations = getEntityRelations(\n    entity,\n    RELATION_PART_OF,\n    {\n      kind: 'component',\n    },\n  );\n  const partOfDomainRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: 'domain',\n  });\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n\n  return (\n    <Grid container>\n      <AboutField label=\"Description\" gridSizes={{ xs: 12 }}>\n        <Typography variant=\"body2\" paragraph className={classes.description}>\n          {entity?.metadata?.description || 'No description'}\n        </Typography>\n      </AboutField>\n      <AboutField\n        label=\"Owner\"\n        value=\"No Owner\"\n        gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n      >\n        {ownedByRelations.length > 0 && (\n          <EntityRefLinks entityRefs={ownedByRelations} defaultKind=\"group\" />\n        )}\n      </AboutField>\n      {(isSystem || partOfDomainRelations.length > 0) && (\n        <AboutField\n          label=\"Domain\"\n          value=\"No Domain\"\n          gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n        >\n          {partOfDomainRelations.length > 0 && (\n            <EntityRefLinks\n              entityRefs={partOfDomainRelations}\n              defaultKind=\"domain\"\n            />\n          )}\n        </AboutField>\n      )}\n      {(isAPI ||\n        isComponent ||\n        isResource ||\n        partOfSystemRelations.length > 0) && (\n        <AboutField\n          label=\"System\"\n          value=\"No System\"\n          gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n        >\n          {partOfSystemRelations.length > 0 && (\n            <EntityRefLinks\n              entityRefs={partOfSystemRelations}\n              defaultKind=\"system\"\n            />\n          )}\n        </AboutField>\n      )}\n      {isComponent && partOfComponentRelations.length > 0 && (\n        <AboutField\n          label=\"Parent Component\"\n          value=\"No Parent Component\"\n          gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n        >\n          <EntityRefLinks\n            entityRefs={partOfComponentRelations}\n            defaultKind=\"component\"\n          />\n        </AboutField>\n      )}\n      {(isAPI ||\n        isComponent ||\n        isResource ||\n        isTemplate ||\n        isGroup ||\n        isLocation ||\n        typeof entity?.spec?.type === 'string') && (\n        <AboutField\n          label=\"Type\"\n          value={entity?.spec?.type as string}\n          gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n        />\n      )}\n      {(isAPI ||\n        isComponent ||\n        typeof entity?.spec?.lifecycle === 'string') && (\n        <AboutField\n          label=\"Lifecycle\"\n          value={entity?.spec?.lifecycle as string}\n          gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n        />\n      )}\n      <AboutField\n        label=\"Tags\"\n        value=\"No Tags\"\n        gridSizes={{ xs: 12, sm: 6, lg: 4 }}\n      >\n        {(entity?.metadata?.tags || []).map(t => (\n          <Chip key={t} size=\"small\" label={t} />\n        ))}\n      </AboutField>\n    </Grid>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ANNOTATION_EDIT_URL,\n  ANNOTATION_LOCATION,\n  DEFAULT_NAMESPACE,\n  stringifyEntityRef,\n} from '@backstage/catalog-model';\nimport {\n  HeaderIconLinkRow,\n  IconLinkVerticalProps,\n  InfoCardVariants,\n  Link,\n} from '@backstage/core-components';\nimport { alertApiRef, useApi, useRouteRef } from '@backstage/core-plugin-api';\nimport {\n  ScmIntegrationIcon,\n  scmIntegrationsApiRef,\n} from '@backstage/integration-react';\nimport {\n  catalogApiRef,\n  getEntitySourceLocation,\n  useEntity,\n} from '@backstage/plugin-catalog-react';\nimport {\n  Card,\n  CardContent,\n  CardHeader,\n  Divider,\n  IconButton,\n  makeStyles,\n} from '@material-ui/core';\nimport CachedIcon from '@material-ui/icons/Cached';\nimport DocsIcon from '@material-ui/icons/Description';\nimport EditIcon from '@material-ui/icons/Edit';\nimport React, { useCallback } from 'react';\nimport { viewTechDocRouteRef } from '../../routes';\nimport { AboutContent } from './AboutContent';\n\nconst useStyles = makeStyles({\n  gridItemCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: 'calc(100% - 10px)', // for pages without content header\n    marginBottom: '10px',\n  },\n  fullHeightCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n  },\n  gridItemCardContent: {\n    flex: 1,\n  },\n  fullHeightCardContent: {\n    flex: 1,\n  },\n});\n\n/**\n * Props for {@link EntityAboutCard}.\n *\n * @public\n */\nexport interface AboutCardProps {\n  variant?: InfoCardVariants;\n}\n\n/**\n * Exported publicly via the EntityAboutCard\n */\nexport function AboutCard(props: AboutCardProps) {\n  const { variant } = props;\n  const classes = useStyles();\n  const { entity } = useEntity();\n  const scmIntegrationsApi = useApi(scmIntegrationsApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n  const viewTechdocLink = useRouteRef(viewTechDocRouteRef);\n\n  const entitySourceLocation = getEntitySourceLocation(\n    entity,\n    scmIntegrationsApi,\n  );\n  const entityMetadataEditUrl =\n    entity.metadata.annotations?.[ANNOTATION_EDIT_URL];\n\n  const viewInSource: IconLinkVerticalProps = {\n    label: 'View Source',\n    disabled: !entitySourceLocation,\n    icon: <ScmIntegrationIcon type={entitySourceLocation?.integrationType} />,\n    href: entitySourceLocation?.locationTargetUrl,\n  };\n  const viewInTechDocs: IconLinkVerticalProps = {\n    label: 'View TechDocs',\n    disabled:\n      !entity.metadata.annotations?.['backstage.io/techdocs-ref'] ||\n      !viewTechdocLink,\n    icon: <DocsIcon />,\n    href:\n      viewTechdocLink &&\n      viewTechdocLink({\n        namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n        kind: entity.kind,\n        name: entity.metadata.name,\n      }),\n  };\n\n  let cardClass = '';\n  if (variant === 'gridItem') {\n    cardClass = classes.gridItemCard;\n  } else if (variant === 'fullHeight') {\n    cardClass = classes.fullHeightCard;\n  }\n\n  let cardContentClass = '';\n  if (variant === 'gridItem') {\n    cardContentClass = classes.gridItemCardContent;\n  } else if (variant === 'fullHeight') {\n    cardContentClass = classes.fullHeightCardContent;\n  }\n\n  const entityLocation = entity.metadata.annotations?.[ANNOTATION_LOCATION];\n  // Limiting the ability to manually refresh to the less expensive locations\n  const allowRefresh =\n    entityLocation?.startsWith('url:') || entityLocation?.startsWith('file:');\n  const refreshEntity = useCallback(async () => {\n    await catalogApi.refreshEntity(stringifyEntityRef(entity));\n    alertApi.post({ message: 'Refresh scheduled', severity: 'info' });\n  }, [catalogApi, alertApi, entity]);\n\n  return (\n    <Card className={cardClass}>\n      <CardHeader\n        title=\"About\"\n        action={\n          <>\n            {allowRefresh && (\n              <IconButton\n                aria-label=\"Refresh\"\n                title=\"Schedule entity refresh\"\n                onClick={refreshEntity}\n              >\n                <CachedIcon />\n              </IconButton>\n            )}\n            <IconButton\n              component={Link}\n              aria-label=\"Edit\"\n              disabled={!entityMetadataEditUrl}\n              title=\"Edit Metadata\"\n              to={entityMetadataEditUrl ?? '#'}\n            >\n              <EditIcon />\n            </IconButton>\n          </>\n        }\n        subheader={<HeaderIconLinkRow links={[viewInSource, viewInTechDocs]} />}\n      />\n      <Divider />\n      <CardContent className={cardContentClass}>\n        <AboutContent entity={entity} />\n      </CardContent>\n    </Card>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState, useMemo } from 'react';\nimport {\n  capitalize,\n  createStyles,\n  InputBase,\n  makeStyles,\n  MenuItem,\n  Select,\n  Theme,\n} from '@material-ui/core';\nimport {\n  catalogApiRef,\n  EntityKindFilter,\n  useEntityList,\n} from '@backstage/plugin-catalog-react';\nimport useAsync from 'react-use/lib/useAsync';\nimport { useApi } from '@backstage/core-plugin-api';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      ...theme.typography.h4,\n    },\n  }),\n);\n\n/**\n * Props for {@link CatalogKindHeader}.\n *\n * @public\n */\nexport interface CatalogKindHeaderProps {\n  /**\n   * Entity kinds to show in the dropdown; by default all kinds are fetched from the catalog and\n   * displayed.\n   */\n  allowedKinds?: string[];\n  /**\n   * The initial kind to select; defaults to 'component'. A kind filter entered directly in the\n   * query parameter will override this value.\n   */\n  initialFilter?: string;\n}\n\n/** @public */\nexport function CatalogKindHeader(props: CatalogKindHeaderProps) {\n  const { initialFilter = 'component', allowedKinds } = props;\n  const classes = useStyles();\n  const catalogApi = useApi(catalogApiRef);\n  const { value: allKinds } = useAsync(async () => {\n    return await catalogApi\n      .getEntityFacets({ facets: ['kind'] })\n      .then(response => response.facets.kind?.map(f => f.value).sort() || []);\n  });\n  const {\n    updateFilters,\n    queryParameters: { kind: kindParameter },\n  } = useEntityList();\n\n  const queryParamKind = useMemo(\n    () => [kindParameter].flat()[0]?.toLocaleLowerCase('en-US'),\n    [kindParameter],\n  );\n  const [selectedKind, setSelectedKind] = useState(\n    queryParamKind ?? initialFilter,\n  );\n\n  useEffect(() => {\n    updateFilters({\n      kind: selectedKind ? new EntityKindFilter(selectedKind) : undefined,\n    });\n  }, [selectedKind, updateFilters]);\n\n  // Set selected Kind on query parameter updates; this happens at initial page load and from\n  // external updates to the page location.\n  useEffect(() => {\n    if (queryParamKind) {\n      setSelectedKind(queryParamKind);\n    }\n  }, [queryParamKind]);\n\n  // Before allKinds is loaded, or when a kind is entered manually in the URL, selectedKind may not\n  // be present in allKinds. It should still be shown in the dropdown, but may not have the nice\n  // enforced casing from the catalog-backend. This makes a key/value record for the Select options,\n  // including selectedKind if it's unknown - but allows the selectedKind to get clobbered by the\n  // more proper catalog kind if it exists.\n  const availableKinds = [capitalize(selectedKind)].concat(\n    allKinds?.filter(k =>\n      allowedKinds\n        ? allowedKinds.some(\n            a => a.toLocaleLowerCase('en-US') === k.toLocaleLowerCase('en-US'),\n          )\n        : true,\n    ) ?? [],\n  );\n  const options = availableKinds.sort().reduce((acc, kind) => {\n    acc[kind.toLocaleLowerCase('en-US')] = kind;\n    return acc;\n  }, {} as Record<string, string>);\n\n  return (\n    <Select\n      input={<InputBase value={selectedKind} />}\n      value={selectedKind}\n      onChange={e => setSelectedKind(e.target.value as string)}\n      classes={classes}\n    >\n      {Object.keys(options).map(kind => (\n        <MenuItem value={kind} key={kind}>\n          {`${options[kind]}s`}\n        </MenuItem>\n      ))}\n    </Select>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  Box,\n  Chip,\n  Divider,\n  ListItem,\n  ListItemText,\n  makeStyles,\n} from '@material-ui/core';\nimport { Link } from '@backstage/core-components';\nimport { IndexableDocument } from '@backstage/plugin-search-common';\n\nconst useStyles = makeStyles({\n  flexContainer: {\n    flexWrap: 'wrap',\n  },\n  itemText: {\n    width: '100%',\n    wordBreak: 'break-all',\n    marginBottom: '1rem',\n  },\n});\n\n/**\n * Props for {@link CatalogSearchResultListItem}.\n *\n * @public\n */\nexport interface CatalogSearchResultListItemProps {\n  result: IndexableDocument;\n}\n\n/** @public */\nexport function CatalogSearchResultListItem(\n  props: CatalogSearchResultListItemProps,\n) {\n  const result = props.result as any;\n\n  const classes = useStyles();\n  return (\n    <Link to={result.location}>\n      <ListItem alignItems=\"flex-start\" className={classes.flexContainer}>\n        <ListItemText\n          className={classes.itemText}\n          primaryTypographyProps={{ variant: 'h6' }}\n          primary={result.title}\n          secondary={result.text}\n        />\n        <Box>\n          {result.kind && <Chip label={`Kind: ${result.kind}`} size=\"small\" />}\n          {result.lifecycle && (\n            <Chip label={`Lifecycle: ${result.lifecycle}`} size=\"small\" />\n          )}\n        </Box>\n      </ListItem>\n      <Divider component=\"li\" />\n    </Link>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport {\n  humanizeEntityRef,\n  EntityRefLink,\n  EntityRefLinks,\n} from '@backstage/plugin-catalog-react';\nimport { Chip } from '@material-ui/core';\nimport { CatalogTableRow } from './types';\nimport { OverflowTooltip, TableColumn } from '@backstage/core-components';\nimport { Entity } from '@backstage/catalog-model';\n\n// The columnFactories symbol is not directly exported, but through the\n// CatalogTable.columns field.\n/** @public */\nexport const columnFactories = Object.freeze({\n  createNameColumn(options?: {\n    defaultKind?: string;\n  }): TableColumn<CatalogTableRow> {\n    function formatContent(entity: Entity): string {\n      return (\n        entity.metadata?.title ||\n        humanizeEntityRef(entity, {\n          defaultKind: options?.defaultKind,\n        })\n      );\n    }\n\n    return {\n      title: 'Name',\n      field: 'resolved.name',\n      highlight: true,\n      customSort({ entity: entity1 }, { entity: entity2 }) {\n        // TODO: We could implement this more efficiently by comparing field by field.\n        // This has similar issues as above.\n        return formatContent(entity1).localeCompare(formatContent(entity2));\n      },\n      render: ({ entity }) => (\n        <EntityRefLink\n          entityRef={entity}\n          defaultKind={options?.defaultKind || 'Component'}\n          title={entity.metadata?.title}\n        />\n      ),\n    };\n  },\n  createSystemColumn(): TableColumn<CatalogTableRow> {\n    return {\n      title: 'System',\n      field: 'resolved.partOfSystemRelationTitle',\n      render: ({ resolved }) => (\n        <EntityRefLinks\n          entityRefs={resolved.partOfSystemRelations}\n          defaultKind=\"system\"\n        />\n      ),\n    };\n  },\n  createOwnerColumn(): TableColumn<CatalogTableRow> {\n    return {\n      title: 'Owner',\n      field: 'resolved.ownedByRelationsTitle',\n      render: ({ resolved }) => (\n        <EntityRefLinks\n          entityRefs={resolved.ownedByRelations}\n          defaultKind=\"group\"\n        />\n      ),\n    };\n  },\n  createSpecTypeColumn(): TableColumn<CatalogTableRow> {\n    return {\n      title: 'Type',\n      field: 'entity.spec.type',\n      hidden: true,\n    };\n  },\n  createSpecLifecycleColumn(): TableColumn<CatalogTableRow> {\n    return {\n      title: 'Lifecycle',\n      field: 'entity.spec.lifecycle',\n    };\n  },\n  createMetadataDescriptionColumn(): TableColumn<CatalogTableRow> {\n    return {\n      title: 'Description',\n      field: 'entity.metadata.description',\n      render: ({ entity }) => (\n        <OverflowTooltip\n          text={entity.metadata.description}\n          placement=\"bottom-start\"\n        />\n      ),\n      width: 'auto',\n    };\n  },\n  createTagsColumn(): TableColumn<CatalogTableRow> {\n    return {\n      title: 'Tags',\n      field: 'entity.metadata.tags',\n      cellStyle: {\n        padding: '0px 16px 0px 20px',\n      },\n      render: ({ entity }) => (\n        <>\n          {entity.metadata.tags &&\n            entity.metadata.tags.map(t => (\n              <Chip\n                key={t}\n                label={t}\n                size=\"small\"\n                variant=\"outlined\"\n                style={{ marginBottom: '0px' }}\n              />\n            ))}\n        </>\n      ),\n    };\n  },\n});\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  ANNOTATION_EDIT_URL,\n  ANNOTATION_VIEW_URL,\n  RELATION_OWNED_BY,\n  RELATION_PART_OF,\n} from '@backstage/catalog-model';\nimport {\n  humanizeEntityRef,\n  getEntityRelations,\n  useEntityList,\n  useStarredEntities,\n} from '@backstage/plugin-catalog-react';\nimport Edit from '@material-ui/icons/Edit';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\nimport { capitalize } from 'lodash';\nimport React, { useMemo } from 'react';\nimport { columnFactories } from './columns';\nimport { CatalogTableRow } from './types';\nimport {\n  CodeSnippet,\n  Table,\n  TableColumn,\n  TableProps,\n  WarningPanel,\n} from '@backstage/core-components';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport { withStyles } from '@material-ui/core/styles';\nimport Star from '@material-ui/icons/Star';\n\n/**\n * Props for {@link CatalogTable}.\n *\n * @public\n */\nexport interface CatalogTableProps {\n  columns?: TableColumn<CatalogTableRow>[];\n  actions?: TableProps<CatalogTableRow>['actions'];\n}\n\nconst YellowStar = withStyles({\n  root: {\n    color: '#f3ba37',\n  },\n})(Star);\n\n/** @public */\nexport const CatalogTable = (props: CatalogTableProps) => {\n  const { columns, actions } = props;\n  const { isStarredEntity, toggleStarredEntity } = useStarredEntities();\n  const { loading, error, entities, filters } = useEntityList();\n\n  const defaultColumns: TableColumn<CatalogTableRow>[] = useMemo(\n    () => [\n      columnFactories.createNameColumn({ defaultKind: filters.kind?.value }),\n      columnFactories.createSystemColumn(),\n      columnFactories.createOwnerColumn(),\n      columnFactories.createSpecTypeColumn(),\n      columnFactories.createSpecLifecycleColumn(),\n      columnFactories.createMetadataDescriptionColumn(),\n      columnFactories.createTagsColumn(),\n    ],\n    [filters.kind?.value],\n  );\n\n  const showTypeColumn = filters.type === undefined;\n  // TODO(timbonicus): remove the title from the CatalogTable once using EntitySearchBar\n  const titlePreamble = capitalize(filters.user?.value ?? 'all');\n\n  if (error) {\n    return (\n      <div>\n        <WarningPanel\n          severity=\"error\"\n          title=\"Could not fetch catalog entities.\"\n        >\n          <CodeSnippet language=\"text\" text={error.toString()} />\n        </WarningPanel>\n      </div>\n    );\n  }\n\n  const defaultActions: TableProps<CatalogTableRow>['actions'] = [\n    ({ entity }) => {\n      const url = entity.metadata.annotations?.[ANNOTATION_VIEW_URL];\n      return {\n        icon: () => <OpenInNew aria-label=\"View\" fontSize=\"small\" />,\n        tooltip: 'View',\n        disabled: !url,\n        onClick: () => {\n          if (!url) return;\n          window.open(url, '_blank');\n        },\n      };\n    },\n    ({ entity }) => {\n      const url = entity.metadata.annotations?.[ANNOTATION_EDIT_URL];\n      return {\n        icon: () => <Edit aria-label=\"Edit\" fontSize=\"small\" />,\n        tooltip: 'Edit',\n        disabled: !url,\n        onClick: () => {\n          if (!url) return;\n          window.open(url, '_blank');\n        },\n      };\n    },\n    ({ entity }) => {\n      const isStarred = isStarredEntity(entity);\n      return {\n        cellStyle: { paddingLeft: '1em' },\n        icon: () => (isStarred ? <YellowStar /> : <StarBorder />),\n        tooltip: isStarred ? 'Remove from favorites' : 'Add to favorites',\n        onClick: () => toggleStarredEntity(entity),\n      };\n    },\n  ];\n\n  const rows = entities.map(entity => {\n    const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n      kind: 'system',\n    });\n    const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n\n    return {\n      entity,\n      resolved: {\n        name: humanizeEntityRef(entity, {\n          defaultKind: 'Component',\n        }),\n        ownedByRelationsTitle: ownedByRelations\n          .map(r => humanizeEntityRef(r, { defaultKind: 'group' }))\n          .join(', '),\n        ownedByRelations,\n        partOfSystemRelationTitle: partOfSystemRelations\n          .map(r =>\n            humanizeEntityRef(r, {\n              defaultKind: 'system',\n            }),\n          )\n          .join(', '),\n        partOfSystemRelations,\n      },\n    };\n  });\n\n  const typeColumn = (columns || defaultColumns).find(c => c.title === 'Type');\n  if (typeColumn) {\n    typeColumn.hidden = !showTypeColumn;\n  }\n  const showPagination = rows.length > 20;\n\n  return (\n    <Table<CatalogTableRow>\n      isLoading={loading}\n      columns={columns || defaultColumns}\n      options={{\n        paging: showPagination,\n        pageSize: 20,\n        actionsColumnIndex: -1,\n        loadingType: 'linear',\n        showEmptyDataSourceMessage: !loading,\n        padding: 'dense',\n        pageSizeOptions: [20, 50, 100],\n      }}\n      title={`${titlePreamble} (${entities.length})`}\n      data={rows}\n      actions={actions || defaultActions}\n    />\n  );\n};\n\nCatalogTable.columns = columnFactories;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Divider,\n  IconButton,\n  ListItemIcon,\n  ListItemText,\n  MenuItem,\n  MenuList,\n  Popover,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport React, { useState } from 'react';\nimport { IconComponent } from '@backstage/core-plugin-api';\nimport { useEntityPermission } from '@backstage/plugin-catalog-react';\nimport { catalogEntityDeletePermission } from '@backstage/plugin-catalog-common';\n\n// TODO(freben): It should probably instead be the case that Header sets the theme text color to white inside itself unconditionally instead\nconst useStyles = makeStyles({\n  button: {\n    color: 'white',\n  },\n});\n\n// NOTE(freben): Intentionally not exported at this point, since it's part of\n// the unstable extra context menu items concept below\ninterface ExtraContextMenuItem {\n  title: string;\n  Icon: IconComponent;\n  onClick: () => void;\n}\n\n// unstable context menu option, eg: disable the unregister entity menu\ninterface contextMenuOptions {\n  disableUnregister: boolean;\n}\n\ninterface EntityContextMenuProps {\n  UNSTABLE_extraContextMenuItems?: ExtraContextMenuItem[];\n  UNSTABLE_contextMenuOptions?: contextMenuOptions;\n  onUnregisterEntity: () => void;\n  onInspectEntity: () => void;\n}\n\nexport function EntityContextMenu(props: EntityContextMenuProps) {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    onUnregisterEntity,\n    onInspectEntity,\n  } = props;\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement>();\n  const classes = useStyles();\n  const unregisterPermission = useEntityPermission(\n    catalogEntityDeletePermission,\n  );\n\n  const onOpen = (event: React.SyntheticEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const onClose = () => {\n    setAnchorEl(undefined);\n  };\n\n  const extraItems = UNSTABLE_extraContextMenuItems && [\n    ...UNSTABLE_extraContextMenuItems.map(item => (\n      <MenuItem\n        key={item.title}\n        onClick={() => {\n          onClose();\n          item.onClick();\n        }}\n      >\n        <ListItemIcon>\n          <item.Icon fontSize=\"small\" />\n        </ListItemIcon>\n        <ListItemText primary={item.title} />\n      </MenuItem>\n    )),\n    <Divider key=\"the divider is here!\" />,\n  ];\n\n  const disableUnregister =\n    (!unregisterPermission.allowed ||\n      UNSTABLE_contextMenuOptions?.disableUnregister) ??\n    false;\n\n  return (\n    <>\n      <IconButton\n        aria-label=\"more\"\n        aria-controls=\"long-menu\"\n        aria-haspopup=\"true\"\n        onClick={onOpen}\n        data-testid=\"menu-button\"\n        className={classes.button}\n      >\n        <MoreVert />\n      </IconButton>\n      <Popover\n        open={Boolean(anchorEl)}\n        onClose={onClose}\n        anchorEl={anchorEl}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      >\n        <MenuList>\n          {extraItems}\n          <MenuItem\n            onClick={() => {\n              onClose();\n              onUnregisterEntity();\n            }}\n            disabled={disableUnregister}\n          >\n            <ListItemIcon>\n              <CancelIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Unregister entity\" />\n          </MenuItem>\n          <MenuItem\n            onClick={() => {\n              onClose();\n              onInspectEntity();\n            }}\n          >\n            <ListItemIcon>\n              <BugReportIcon fontSize=\"small\" />\n            </ListItemIcon>\n            <ListItemText primary=\"Inspect entity\" />\n          </MenuItem>\n        </MenuList>\n      </Popover>\n    </>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Entity,\n  DEFAULT_NAMESPACE,\n  RELATION_OWNED_BY,\n} from '@backstage/catalog-model';\nimport {\n  Content,\n  Header,\n  HeaderLabel,\n  Link,\n  Page,\n  Progress,\n  RoutedTabs,\n  WarningPanel,\n} from '@backstage/core-components';\nimport {\n  attachComponentData,\n  IconComponent,\n  useElementFilter,\n  useRouteRefParams,\n} from '@backstage/core-plugin-api';\nimport {\n  EntityRefLinks,\n  entityRouteRef,\n  FavoriteEntity,\n  getEntityRelations,\n  InspectEntityDialog,\n  UnregisterEntityDialog,\n  useAsyncEntity,\n} from '@backstage/plugin-catalog-react';\nimport { Box, TabProps } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router';\nimport { EntityContextMenu } from '../EntityContextMenu/EntityContextMenu';\n\n/** @public */\nexport type EntityLayoutRouteProps = {\n  path: string;\n  title: string;\n  children: JSX.Element;\n  if?: (entity: Entity) => boolean;\n  tabProps?: TabProps<React.ElementType, { component?: React.ElementType }>;\n};\n\nconst dataKey = 'plugin.catalog.entityLayoutRoute';\n\nconst Route: (props: EntityLayoutRouteProps) => null = () => null;\nattachComponentData(Route, dataKey, true);\nattachComponentData(Route, 'core.gatherMountPoints', true); // This causes all mount points that are discovered within this route to use the path of the route itself\n\nfunction EntityLayoutTitle(props: {\n  title: string;\n  entity: Entity | undefined;\n}) {\n  const { entity, title } = props;\n  return (\n    <Box display=\"inline-flex\" alignItems=\"center\" height=\"1em\" maxWidth=\"100%\">\n      <Box\n        component=\"span\"\n        textOverflow=\"ellipsis\"\n        whiteSpace=\"nowrap\"\n        overflow=\"hidden\"\n      >\n        {title}\n      </Box>\n      {entity && <FavoriteEntity entity={entity} />}\n    </Box>\n  );\n}\n\nfunction headerProps(\n  paramKind: string | undefined,\n  paramNamespace: string | undefined,\n  paramName: string | undefined,\n  entity: Entity | undefined,\n): { headerTitle: string; headerType: string } {\n  const kind = paramKind ?? entity?.kind ?? '';\n  const namespace = paramNamespace ?? entity?.metadata.namespace ?? '';\n  const name =\n    entity?.metadata.title ?? paramName ?? entity?.metadata.name ?? '';\n  return {\n    headerTitle: `${name}${\n      namespace && namespace !== DEFAULT_NAMESPACE ? ` in ${namespace}` : ''\n    }`,\n    headerType: (() => {\n      let t = kind.toLocaleLowerCase('en-US');\n      if (entity && entity.spec && 'type' in entity.spec) {\n        t += ' â€” ';\n        t += (entity.spec as { type: string }).type.toLocaleLowerCase('en-US');\n      }\n      return t;\n    })(),\n  };\n}\n\nfunction EntityLabels(props: { entity: Entity }) {\n  const { entity } = props;\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return (\n    <>\n      {ownedByRelations.length > 0 && (\n        <HeaderLabel\n          label=\"Owner\"\n          value={\n            <EntityRefLinks\n              entityRefs={ownedByRelations}\n              defaultKind=\"Group\"\n              color=\"inherit\"\n            />\n          }\n        />\n      )}\n      {entity.spec?.lifecycle && (\n        <HeaderLabel label=\"Lifecycle\" value={entity.spec.lifecycle} />\n      )}\n    </>\n  );\n}\n\n// NOTE(freben): Intentionally not exported at this point, since it's part of\n// the unstable extra context menu items concept below\ninterface ExtraContextMenuItem {\n  title: string;\n  Icon: IconComponent;\n  onClick: () => void;\n}\n\n// unstable context menu option, eg: disable the unregister entity menu\ninterface contextMenuOptions {\n  disableUnregister: boolean;\n}\n\n/** @public */\nexport interface EntityLayoutProps {\n  UNSTABLE_extraContextMenuItems?: ExtraContextMenuItem[];\n  UNSTABLE_contextMenuOptions?: contextMenuOptions;\n  children?: React.ReactNode;\n}\n\n/**\n * EntityLayout is a compound component, which allows you to define a layout for\n * entities using a sub-navigation mechanism.\n *\n * Consists of two parts: EntityLayout and EntityLayout.Route\n *\n * @example\n * ```jsx\n * <EntityLayout>\n *   <EntityLayout.Route path=\"/example\" title=\"Example tab\">\n *     <div>This is rendered under /example/anything-here route</div>\n *   </EntityLayout.Route>\n * </EntityLayout>\n * ```\n *\n * @public\n */\nexport const EntityLayout = (props: EntityLayoutProps) => {\n  const {\n    UNSTABLE_extraContextMenuItems,\n    UNSTABLE_contextMenuOptions,\n    children,\n  } = props;\n  const { kind, namespace, name } = useRouteRefParams(entityRouteRef);\n  const { entity, loading, error } = useAsyncEntity();\n  const location = useLocation();\n  const routes = useElementFilter(\n    children,\n    elements =>\n      elements\n        .selectByComponentData({\n          key: dataKey,\n          withStrictError:\n            'Child of EntityLayout must be an EntityLayout.Route',\n        })\n        .getElements<EntityLayoutRouteProps>() // all nodes, element data, maintain structure or not?\n        .flatMap(({ props: elementProps }) => {\n          if (!entity) {\n            return [];\n          } else if (elementProps.if && !elementProps.if(entity)) {\n            return [];\n          }\n\n          return [\n            {\n              path: elementProps.path,\n              title: elementProps.title,\n              children: elementProps.children,\n              tabProps: elementProps.tabProps,\n            },\n          ];\n        }),\n    [entity],\n  );\n\n  const { headerTitle, headerType } = headerProps(\n    kind,\n    namespace,\n    name,\n    entity,\n  );\n\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const [inspectionDialogOpen, setInspectionDialogOpen] = useState(false);\n  const navigate = useNavigate();\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    setInspectionDialogOpen(false);\n    navigate('/');\n  };\n\n  // Make sure to close the dialog if the user clicks links in it that navigate\n  // to another entity.\n  useEffect(() => {\n    setConfirmationDialogOpen(false);\n    setInspectionDialogOpen(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.pathname]);\n\n  return (\n    <Page themeId={entity?.spec?.type?.toString() ?? 'home'}>\n      <Header\n        title={<EntityLayoutTitle title={headerTitle} entity={entity!} />}\n        pageTitleOverride={headerTitle}\n        type={headerType}\n      >\n        {entity && (\n          <>\n            <EntityLabels entity={entity} />\n            <EntityContextMenu\n              UNSTABLE_extraContextMenuItems={UNSTABLE_extraContextMenuItems}\n              UNSTABLE_contextMenuOptions={UNSTABLE_contextMenuOptions}\n              onUnregisterEntity={() => setConfirmationDialogOpen(true)}\n              onInspectEntity={() => setInspectionDialogOpen(true)}\n            />\n          </>\n        )}\n      </Header>\n\n      {loading && <Progress />}\n\n      {entity && <RoutedTabs routes={routes} />}\n\n      {error && (\n        <Content>\n          <Alert severity=\"error\">{error.toString()}</Alert>\n        </Content>\n      )}\n\n      {!loading && !error && !entity && (\n        <Content>\n          <WarningPanel title=\"Entity not found\">\n            There is no {kind} with the requested{' '}\n            <Link to=\"https://backstage.io/docs/features/software-catalog/references\">\n              kind, namespace, and name\n            </Link>\n            .\n          </WarningPanel>\n        </Content>\n      )}\n\n      <UnregisterEntityDialog\n        open={confirmationDialogOpen}\n        entity={entity!}\n        onConfirm={cleanUpAfterRemoval}\n        onClose={() => setConfirmationDialogOpen(false)}\n      />\n      <InspectEntityDialog\n        open={inspectionDialogOpen}\n        entity={entity!}\n        onClose={() => setInspectionDialogOpen(false)}\n      />\n    </Page>\n  );\n};\n\nEntityLayout.Route = Route;\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { Button, Dialog, DialogActions, DialogTitle } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { alertApiRef, useApi } from '@backstage/core-plugin-api';\nimport { assertError } from '@backstage/errors';\n\ninterface DeleteEntityDialogProps {\n  open: boolean;\n  onClose: () => any;\n  onConfirm: () => any;\n  entity: Entity;\n}\n\nexport function DeleteEntityDialog(props: DeleteEntityDialogProps) {\n  const { open, onClose, onConfirm, entity } = props;\n  const [busy, setBusy] = useState(false);\n  const catalogApi = useApi(catalogApiRef);\n  const alertApi = useApi(alertApiRef);\n\n  const onDelete = async () => {\n    setBusy(true);\n    try {\n      const uid = entity.metadata.uid;\n      await catalogApi.removeEntityByUid(uid!);\n      onConfirm();\n    } catch (err) {\n      assertError(err);\n      alertApi.post({ message: err.message });\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle id=\"responsive-dialog-title\">\n        Are you sure you want to delete this entity?\n      </DialogTitle>\n      <DialogActions>\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          disabled={busy}\n          onClick={onDelete}\n        >\n          Delete\n        </Button>\n        <Button onClick={onClose} color=\"primary\">\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { Alert } from '@material-ui/lab';\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { DeleteEntityDialog } from './DeleteEntityDialog';\nimport { useRouteRef } from '@backstage/core-plugin-api';\nimport { rootRouteRef } from '../../routes';\n\n/**\n * Returns true if the given entity has the orphan annotation given by the\n * catalog.\n *\n * @public\n */\nexport function isOrphan(entity: Entity): boolean {\n  return entity?.metadata?.annotations?.['backstage.io/orphan'] === 'true';\n}\n\n/**\n * Displays a warning alert if the entity is marked as orphan with the ability\n * to delete said entity.\n *\n * @public\n */\nexport function EntityOrphanWarning() {\n  const navigate = useNavigate();\n  const catalogLink = useRouteRef(rootRouteRef);\n  const [confirmationDialogOpen, setConfirmationDialogOpen] = useState(false);\n  const { entity } = useEntity();\n\n  const cleanUpAfterRemoval = async () => {\n    setConfirmationDialogOpen(false);\n    navigate(catalogLink());\n  };\n\n  return (\n    <>\n      <Alert severity=\"warning\" onClick={() => setConfirmationDialogOpen(true)}>\n        This entity is not referenced by any location and is therefore not\n        receiving updates. Click here to delete.\n      </Alert>\n      <DeleteEntityDialog\n        open={confirmationDialogOpen}\n        entity={entity!}\n        onConfirm={cleanUpAfterRemoval}\n        onClose={() => setConfirmationDialogOpen(false)}\n      />\n    </>\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Entity,\n  AlphaEntity,\n  stringifyEntityRef,\n  EntityStatusItem,\n} from '@backstage/catalog-model';\nimport {\n  catalogApiRef,\n  EntityRefLink,\n  useEntity,\n} from '@backstage/plugin-catalog-react';\nimport { Box } from '@material-ui/core';\nimport React from 'react';\nimport { ResponseErrorPanel } from '@backstage/core-components';\nimport {\n  CatalogApi,\n  ENTITY_STATUS_CATALOG_PROCESSING_TYPE,\n} from '@backstage/catalog-client';\nimport { useApi, ApiHolder } from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\nimport { SerializedError } from '@backstage/errors';\n\nconst errorFilter = (i: EntityStatusItem) =>\n  i.error &&\n  i.level === 'error' &&\n  i.type === ENTITY_STATUS_CATALOG_PROCESSING_TYPE;\n\ninterface GetOwnAndAncestorsErrorsResponse {\n  items: {\n    errors: SerializedError[];\n    entity: Entity;\n  }[];\n}\n\nasync function getOwnAndAncestorsErrors(\n  entityRef: string,\n  catalogApi: CatalogApi,\n): Promise<GetOwnAndAncestorsErrorsResponse> {\n  const ancestors = await catalogApi.getEntityAncestors({ entityRef });\n  const items = ancestors.items\n    .map(item => {\n      const statuses = (item.entity as AlphaEntity).status?.items ?? [];\n      const errors = statuses\n        .filter(errorFilter)\n        .map(e => e.error)\n        .filter((e): e is SerializedError => Boolean(e));\n      return { errors: errors, entity: item.entity };\n    })\n    .filter(item => item.errors.length > 0);\n  return { items };\n}\n\n/**\n * Returns true if the given entity has any processing errors on it.\n *\n * @public\n */\nexport async function hasCatalogProcessingErrors(\n  entity: Entity,\n  context: { apis: ApiHolder },\n) {\n  const catalogApi = context.apis.get(catalogApiRef);\n  if (!catalogApi) {\n    throw new Error(`No implementation available for ${catalogApiRef}`);\n  }\n\n  const errors = await getOwnAndAncestorsErrors(\n    stringifyEntityRef(entity),\n    catalogApi,\n  );\n  return errors.items.length > 0;\n}\n\n/**\n * Displays a list of errors from the ancestors of the current entity.\n *\n * @public\n */\nexport function EntityProcessingErrorsPanel() {\n  const { entity } = useEntity();\n  const entityRef = stringifyEntityRef(entity);\n  const catalogApi = useApi(catalogApiRef);\n  const { loading, error, value } = useAsync(async () => {\n    return getOwnAndAncestorsErrors(entityRef, catalogApi);\n  }, [entityRef, catalogApi]);\n\n  if (error) {\n    return (\n      <Box mb={1}>\n        <ResponseErrorPanel error={error} />\n      </Box>\n    );\n  }\n\n  if (loading || !value) {\n    return null;\n  }\n\n  return (\n    <>\n      {value.items.map((ancestorError, index) => (\n        <Box key={index} mb={1}>\n          {stringifyEntityRef(entity) !==\n            stringifyEntityRef(ancestorError.entity) && (\n            <Box p={1}>\n              The error below originates from{' '}\n              <EntityRefLink entityRef={ancestorError.entity} />\n            </Box>\n          )}\n          {ancestorError.errors.map((e, i) => (\n            <ResponseErrorPanel key={i} error={e} />\n          ))}\n        </Box>\n      ))}\n    </>\n  );\n}\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport { useAsyncEntity } from '@backstage/plugin-catalog-react';\nimport React, { ReactNode, ReactElement } from 'react';\nimport {\n  attachComponentData,\n  useApiHolder,\n  useElementFilter,\n  ApiHolder,\n} from '@backstage/core-plugin-api';\nimport useAsync from 'react-use/lib/useAsync';\n\nconst ENTITY_SWITCH_KEY = 'core.backstage.entitySwitch';\n\n/** @public */\nexport interface EntitySwitchCaseProps {\n  if?: (\n    entity: Entity,\n    context: { apis: ApiHolder },\n  ) => boolean | Promise<boolean>;\n  children: ReactNode;\n}\n\nconst EntitySwitchCaseComponent = (_props: EntitySwitchCaseProps) => null;\n\nattachComponentData(EntitySwitchCaseComponent, ENTITY_SWITCH_KEY, true);\n\ninterface EntitySwitchCase {\n  if?: (\n    entity: Entity,\n    context: { apis: ApiHolder },\n  ) => boolean | Promise<boolean>;\n  children: JSX.Element;\n}\n\ntype SwitchCaseResult = {\n  if: boolean | Promise<boolean>;\n  children: JSX.Element;\n};\n\n/**\n * Props for the {@link EntitySwitch} component.\n * @public\n */\nexport interface EntitySwitchProps {\n  children: ReactNode;\n}\n\n/** @public */\nexport const EntitySwitch = (props: EntitySwitchProps) => {\n  const { entity, loading } = useAsyncEntity();\n  const apis = useApiHolder();\n  const results = useElementFilter(\n    props.children,\n    collection =>\n      collection\n        .selectByComponentData({\n          key: ENTITY_SWITCH_KEY,\n          withStrictError: 'Child of EntitySwitch is not an EntitySwitch.Case',\n        })\n        .getElements()\n        .flatMap<SwitchCaseResult>((element: ReactElement) => {\n          // Nothing is rendered while loading\n          if (loading) {\n            return [];\n          }\n\n          const { if: condition, children: elementsChildren } =\n            element.props as EntitySwitchCase;\n\n          // If the entity is missing or there is an error, render the default page\n          if (!entity) {\n            return [\n              {\n                if: condition === undefined,\n                children: elementsChildren,\n              },\n            ];\n          }\n          return [\n            {\n              if: condition?.(entity, { apis }) ?? true,\n              children: elementsChildren,\n            },\n          ];\n        }),\n    [apis, entity, loading],\n  );\n  const hasAsyncCases = results.some(\n    r => typeof r.if === 'object' && 'then' in r.if,\n  );\n\n  if (hasAsyncCases) {\n    return <AsyncEntitySwitch results={results} />;\n  }\n\n  return results.find(r => r.if)?.children ?? null;\n};\n\nfunction AsyncEntitySwitch({ results }: { results: SwitchCaseResult[] }) {\n  const { loading, value } = useAsync(async () => {\n    const promises = results.map(\n      async ({ if: condition, children: output }) => {\n        try {\n          if (await condition) {\n            return output;\n          }\n        } catch {\n          /* ignored */\n        }\n\n        return null;\n      },\n    );\n    return (await Promise.all(promises)).find(Boolean) ?? null;\n  }, [results]);\n\n  if (loading || !value) {\n    return null;\n  }\n\n  return value;\n}\n\nEntitySwitch.Case = EntitySwitchCaseComponent;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity, ComponentEntity } from '@backstage/catalog-model';\n\nfunction strCmp(a: string | undefined, b: string | undefined): boolean {\n  return Boolean(\n    a && a?.toLocaleLowerCase('en-US') === b?.toLocaleLowerCase('en-US'),\n  );\n}\n\n/**\n * For use in EntitySwitch.Case. Matches if the entity is of a given kind.\n * @public\n */\nexport function isKind(kind: string) {\n  return (entity: Entity) => strCmp(entity.kind, kind);\n}\n\n/**\n * For use in EntitySwitch.Case. Matches if the entity is a Component of a given spec.type.\n * @public\n */\nexport function isComponentType(type: string) {\n  return (entity: Entity) => {\n    if (!strCmp(entity.kind, 'component')) {\n      return false;\n    }\n    const componentEntity = entity as ComponentEntity;\n    return strCmp(componentEntity.spec.type, type);\n  };\n}\n\n/**\n * For use in EntitySwitch.Case. Matches if the entity is in a given namespace.\n * @public\n */\nexport function isNamespace(namespace: string) {\n  return (entity: Entity) => strCmp(entity.metadata?.namespace, namespace);\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CatalogFilterLayout } from '@backstage/plugin-catalog-react';\n\n/**\n * @public\n * @deprecated Use `FilteredCatalogLayout` from `@backstage/plugin-catalog-react` instead.\n */\nexport const FilteredEntityLayout = CatalogFilterLayout as (props: {\n  children: React.ReactNode;\n}) => JSX.Element;\n\n/**\n * @public\n * @deprecated Use `FilteredCatalogLayout.Filters` from `@backstage/plugin-catalog-react` instead.\n */\nexport const FilterContainer = CatalogFilterLayout.Filters;\n\n/**\n * @public\n * @deprecated Use `FilteredCatalogLayout.Content` from `@backstage/plugin-catalog-react` instead.\n */\nexport const EntityListContainer = CatalogFilterLayout.Content;\n","/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { CatalogClient } from '@backstage/catalog-client';\nimport { Entity } from '@backstage/catalog-model';\nimport {\n  catalogApiRef,\n  entityRouteRef,\n  starredEntitiesApiRef,\n} from '@backstage/plugin-catalog-react';\nimport { createComponentRouteRef, viewTechDocRouteRef } from './routes';\nimport {\n  createApiFactory,\n  createComponentExtension,\n  createPlugin,\n  createRoutableExtension,\n  discoveryApiRef,\n  fetchApiRef,\n  storageApiRef,\n} from '@backstage/core-plugin-api';\nimport { DefaultStarredEntitiesApi } from './apis';\nimport { AboutCardProps } from './components/AboutCard';\nimport { DefaultCatalogPageProps } from './components/CatalogPage';\nimport { DependencyOfComponentsCardProps } from './components/DependencyOfComponentsCard';\nimport { DependsOnComponentsCardProps } from './components/DependsOnComponentsCard';\nimport { DependsOnResourcesCardProps } from './components/DependsOnResourcesCard';\nimport { HasComponentsCardProps } from './components/HasComponentsCard';\nimport { HasResourcesCardProps } from './components/HasResourcesCard';\nimport { HasSubcomponentsCardProps } from './components/HasSubcomponentsCard';\nimport { HasSystemsCardProps } from './components/HasSystemsCard';\nimport { RelatedEntitiesCardProps } from './components/RelatedEntitiesCard';\nimport { rootRouteRef } from './routes';\n\n/** @public */\nexport const catalogPlugin = createPlugin({\n  id: 'catalog',\n  apis: [\n    createApiFactory({\n      api: catalogApiRef,\n      deps: {\n        discoveryApi: discoveryApiRef,\n        fetchApi: fetchApiRef,\n      },\n      factory: ({ discoveryApi, fetchApi }) =>\n        new CatalogClient({ discoveryApi, fetchApi }),\n    }),\n    createApiFactory({\n      api: starredEntitiesApiRef,\n      deps: { storageApi: storageApiRef },\n      factory: ({ storageApi }) =>\n        new DefaultStarredEntitiesApi({ storageApi }),\n    }),\n  ],\n  routes: {\n    catalogIndex: rootRouteRef,\n    catalogEntity: entityRouteRef,\n  },\n  externalRoutes: {\n    createComponent: createComponentRouteRef,\n    viewTechDoc: viewTechDocRouteRef,\n  },\n});\n\n/** @public */\nexport const CatalogIndexPage: (props: DefaultCatalogPageProps) => JSX.Element =\n  catalogPlugin.provide(\n    createRoutableExtension({\n      name: 'CatalogIndexPage',\n      component: () =>\n        import('./components/CatalogPage').then(m => m.CatalogPage),\n      mountPoint: rootRouteRef,\n    }),\n  );\n\n/** @public */\nexport const CatalogEntityPage: () => JSX.Element = catalogPlugin.provide(\n  createRoutableExtension({\n    name: 'CatalogEntityPage',\n    component: () =>\n      import('./components/CatalogEntityPage').then(m => m.CatalogEntityPage),\n    mountPoint: entityRouteRef,\n  }),\n);\n\n/** @public */\nexport const EntityAboutCard: (props: AboutCardProps) => JSX.Element =\n  catalogPlugin.provide(\n    createComponentExtension({\n      name: 'EntityAboutCard',\n      component: {\n        lazy: () => import('./components/AboutCard').then(m => m.AboutCard),\n      },\n    }),\n  );\n\n/** @public */\nexport const EntityLinksCard = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityLinksCard',\n    component: {\n      lazy: () =>\n        import('./components/EntityLinksCard').then(m => m.EntityLinksCard),\n    },\n  }),\n);\n\n/** @public */\nexport const EntityHasSystemsCard: (props: HasSystemsCardProps) => JSX.Element =\n  catalogPlugin.provide(\n    createComponentExtension({\n      name: 'EntityHasSystemsCard',\n      component: {\n        lazy: () =>\n          import('./components/HasSystemsCard').then(m => m.HasSystemsCard),\n      },\n    }),\n  );\n\n/** @public */\nexport const EntityHasComponentsCard: (\n  props: HasComponentsCardProps,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityHasComponentsCard',\n    component: {\n      lazy: () =>\n        import('./components/HasComponentsCard').then(m => m.HasComponentsCard),\n    },\n  }),\n);\n\n/** @public */\nexport const EntityHasSubcomponentsCard: (\n  props: HasSubcomponentsCardProps,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityHasSubcomponentsCard',\n    component: {\n      lazy: () =>\n        import('./components/HasSubcomponentsCard').then(\n          m => m.HasSubcomponentsCard,\n        ),\n    },\n  }),\n);\n\n/** @public */\nexport const EntityHasResourcesCard: (\n  props: HasResourcesCardProps,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityHasResourcesCard',\n    component: {\n      lazy: () =>\n        import('./components/HasResourcesCard').then(m => m.HasResourcesCard),\n    },\n  }),\n);\n\n/** @public */\nexport const EntityDependsOnComponentsCard: (\n  props: DependsOnComponentsCardProps,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityDependsOnComponentsCard',\n    component: {\n      lazy: () =>\n        import('./components/DependsOnComponentsCard').then(\n          m => m.DependsOnComponentsCard,\n        ),\n    },\n  }),\n);\n\n/** @public */\nexport const EntityDependencyOfComponentsCard: (\n  props: DependencyOfComponentsCardProps,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityDependencyOfComponentsCard',\n    component: {\n      lazy: () =>\n        import('./components/DependencyOfComponentsCard').then(\n          m => m.DependencyOfComponentsCard,\n        ),\n    },\n  }),\n);\n\n/** @public */\nexport const EntityDependsOnResourcesCard: (\n  props: DependsOnResourcesCardProps,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'EntityDependsOnResourcesCard',\n    component: {\n      lazy: () =>\n        import('./components/DependsOnResourcesCard').then(\n          m => m.DependsOnResourcesCard,\n        ),\n    },\n  }),\n);\n\n/** @public */\nexport const RelatedEntitiesCard: <T extends Entity>(\n  props: RelatedEntitiesCardProps<T>,\n) => JSX.Element = catalogPlugin.provide(\n  createComponentExtension({\n    name: 'RelatedEntitiesCard',\n    component: {\n      lazy: () =>\n        import('./components/RelatedEntitiesCard').then(\n          m => m.RelatedEntitiesCard,\n        ),\n    },\n  }),\n);\n"],"names":["useStyles","capitalize","Edit","makeStyles"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA6BqD,eAAA,8BAAA,CAAA;AAAA,EACnD,UAAA;AAAA,CAGC,EAAA;AAjCH,EAAA,IAAA,EAAA,CAAA;AAkCE,EAAM,MAAA,MAAA,GAAS,WAAW,SAAU,CAAA,UAAA,CAAA,CAAA;AACpC,EAAM,MAAA,MAAA,GAAS,WAAW,SAAU,CAAA,iBAAA,CAAA,CAAA;AAEpC,EAAM,MAAA,kBAAA,GAAqB,MAAO,CAAA,QAAA,CAAS,iBAAmB,CAAA,CAAA,KAAA,CAAA;AAE9D,EAAI,IAAA,CAAC,QAAQ,kBAAqB,CAAA,EAAA;AAEhC,IAAA,OAAA;AAAA,GAAA;AAEF,EAAA,MAAM,iBAAiB,IAAI,GAAA,CACzB,aAAO,QAAmB,CAAA,YAAA,CAAA,CAAc,UAAxC,IAAiD,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA;AAGnD,EAAA,kBAAA,CACG,MAAO,CAAA,QAAA,CAAA,CAEP,GAAI,CAAA,CAAA,GAAA,KAAO,GAAI,CAAA,KAAA,CAAM,GAErB,CAAA,CAAA,CAAA,MAAA,CAAO,CAAS,KAAA,KAAA,KAAA,CAAM,MAAW,KAAA,CAAA,IAAK,MAAM,CAAO,CAAA,KAAA,QAAA,CAAA,CAEnD,GAAI,CAAA,CAAC,CAAC,CAAA,EAAG,IAAM,EAAA,SAAA,EAAW,IACzB,CAAA,KAAA,kBAAA,CAAmB,EAAE,IAAA,EAAM,SAAW,EAAA,IAAA,EAAA,CAAA,CAAA,CAEvC,OAAQ,CAAA,CAAA,CAAA,KAAK,eAAe,GAAI,CAAA,CAAA,CAAA,CAAA,CAAA;AAEnC,EAAA,MAAM,MAAO,CAAA,GAAA,CAAI,YAAc,EAAA,KAAA,CAAM,IAAK,CAAA,cAAA,CAAA,CAAA,CAAA;AAE1C,EAAA,MAAM,OAAO,MAAO,CAAA,iBAAA,CAAA,CAAA;AAAA;;AClC+C,MAAA,yBAAA,CAAA;AAAA,EAInE,YAAY,IAAkC,EAAA;AAmC7B,IAAA,IAAA,CAAA,WAAA,mBAAkB,IAAA,GAAA,EAAA,CAAA;AAIlB,IAAa,IAAA,CAAA,UAAA,GAAA,IAAI,eAA4B,CAAc,UAAA,KAAA;AAE1E,MAAW,UAAA,CAAA,IAAA,CAAK,IAAI,GAAA,CAAI,IAAK,CAAA,eAAA,CAAA,CAAA,CAAA;AAE7B,MAAA,IAAA,CAAK,YAAY,GAAI,CAAA,UAAA,CAAA,CAAA;AACrB,MAAA,OAAO,MAAM;AACX,QAAA,IAAA,CAAK,YAAY,MAAO,CAAA,UAAA,CAAA,CAAA;AAAA,OAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AA5E9B,IAAA,IAAA,EAAA,CAAA;AAiCI,IAAA,8BAAA,CAA+B,IAAM,CAAA,CAAA,IAAA,EAAA,CAAA;AAErC,IAAK,IAAA,CAAA,aAAA,GAAgB,IAAK,CAAA,UAAA,CAAW,SAAU,CAAA,iBAAA,CAAA,CAAA;AAE/C,IAAK,IAAA,CAAA,eAAA,GAAkB,IAAI,GACzB,CAAA,CAAA,EAAA,GAAA,IAAA,CAAK,cAAc,QAAmB,CAAA,YAAA,CAAA,CAAc,UAApD,IAA6D,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA;AAG/D,IAAK,IAAA,CAAA,aAAA,CAAc,QAAmB,CAAA,YAAA,CAAA,CAAc,SAAU,CAAA;AAAA,MAC5D,MAAM,CAAQ,IAAA,KAAA;AA1CpB,QAAA,IAAA,GAAA,CAAA;AA2CQ,QAAA,IAAA,CAAK,eAAkB,GAAA,IAAI,GAAI,CAAA,CAAA,GAAA,GAAA,IAAA,CAAK,UAAL,IAAc,GAAA,GAAA,GAAA,EAAA,CAAA,CAAA;AAC7C,QAAK,IAAA,CAAA,aAAA,EAAA,CAAA;AAAA,OAAA;AAAA,KAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAAA,MAKL,cAAc,SAAkC,EAAA;AACpD,IAAI,IAAA,IAAA,CAAK,eAAgB,CAAA,GAAA,CAAI,SAAY,CAAA,EAAA;AACvC,MAAA,IAAA,CAAK,gBAAgB,MAAO,CAAA,SAAA,CAAA,CAAA;AAAA,KACvB,MAAA;AACL,MAAA,IAAA,CAAK,gBAAgB,GAAI,CAAA,SAAA,CAAA,CAAA;AAAA,KAAA;AAG3B,IAAA,MAAM,KAAK,aAAc,CAAA,GAAA,CACvB,YACA,EAAA,KAAA,CAAM,KAAK,IAAK,CAAA,eAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AAAA,EAIpB,eAA2C,GAAA;AACzC,IAAA,OAAO,IAAK,CAAA,UAAA,CAAA;AAAA,GAAA;AAAA,EAiBN,aAAgB,GAAA;AACtB,IAAW,KAAA,MAAA,YAAA,IAAgB,KAAK,WAAa,EAAA;AAC3C,MAAa,YAAA,CAAA,IAAA,CAAK,IAAI,GAAA,CAAI,IAAK,CAAA,eAAA,CAAA,CAAA,CAAA;AAAA,KAAA;AAAA,GAAA;AAAA;;AC7D9B,MAAM,0BAA0B,sBAAuB,CAAA;AAAA,EAC5D,EAAI,EAAA,kBAAA;AAAA,EACJ,QAAU,EAAA,IAAA;AAAA,CAAA,EAAA;AAGL,MAAM,sBAAsB,sBAAuB,CAAA;AAAA,EACxD,EAAI,EAAA,cAAA;AAAA,EACJ,QAAU,EAAA,IAAA;AAAA,EACV,MAAA,EAAQ,CAAC,WAAA,EAAa,MAAQ,EAAA,MAAA,CAAA;AAAA,CAAA,CAAA,CAAA;AAGzB,MAAM,eAAe,cAAe,CAAA;AAAA,EACzC,EAAI,EAAA,SAAA;AAAA,CAAA,CAAA;;ACbN,MAAMA,WAAA,GAAY,WAAW,CAAU,KAAA,MAAA;AAAA,EACrC,KAAO,EAAA;AAAA,IACL,UAAY,EAAA,MAAA;AAAA,IACZ,QAAU,EAAA,QAAA;AAAA,IACV,UAAY,EAAA,MAAA;AAAA,IACZ,SAAW,EAAA,YAAA;AAAA,GAAA;AAAA,EAEb,KAAO,EAAA;AAAA,IACL,KAAA,EAAO,KAAM,CAAA,OAAA,CAAQ,IAAK,CAAA,SAAA;AAAA,IAC1B,aAAe,EAAA,WAAA;AAAA,IACf,QAAU,EAAA,MAAA;AAAA,IACV,UAAY,EAAA,MAAA;AAAA,IACZ,aAAe,EAAA,GAAA;AAAA,IACf,QAAU,EAAA,QAAA;AAAA,IACV,UAAY,EAAA,QAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA,CAAA;AAiBT,SAAA,UAAA,CAAoB,KAAwB,EAAA;AACjD,EAAA,MAAM,EAAE,KAAA,EAAO,KAAO,EAAA,SAAA,EAAW,QAAa,EAAA,GAAA,KAAA,CAAA;AAC9C,EAAA,MAAM,OAAU,GAAAA,WAAA,EAAA,CAAA;AAEhB,EAAA,MAAM,aAAgB,GAAA,gBAAA,CAAiB,QAAU,EAAA,CAAA,CAAA,KAAK,CAAE,CAAA,WAAA,EAAA,CAAA,CAAA;AAGxD,EAAA,MAAM,UACJ,aAAc,CAAA,MAAA,GAAS,CACrB,GAAA,aAAA,uCAEC,UAAD,EAAA;AAAA,IAAY,OAAQ,EAAA,OAAA;AAAA,IAAQ,WAAW,OAAQ,CAAA,KAAA;AAAA,GAAA,EAC5C,KAAS,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA;AAGhB,EAAA,2CACG,IAAD,EAAA;AAAA,IAAM,IAAI,EAAA,IAAA;AAAA,IAAK,GAAA,SAAA;AAAA,GAAA,sCACZ,UAAD,EAAA;AAAA,IAAY,OAAQ,EAAA,WAAA;AAAA,IAAY,WAAW,OAAQ,CAAA,KAAA;AAAA,GAAA,EAChD,KAEF,CAAA,EAAA,OAAA,CAAA,CAAA;AAAA;;AC1CP,MAAMA,cAAY,UAAW,CAAA;AAAA,EAC3B,WAAa,EAAA;AAAA,IACX,SAAW,EAAA,YAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA;AAcR,SAAA,YAAA,CAAsB,KAA0B,EAAA;AA7CvD,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA8CE,EAAA,MAAM,EAAE,MAAW,EAAA,GAAA,KAAA,CAAA;AACnB,EAAA,MAAM,OAAU,GAAAA,WAAA,EAAA,CAAA;AAChB,EAAA,MAAM,QAAW,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,QAAA,CAAA;AAC5D,EAAA,MAAM,UAAa,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,UAAA,CAAA;AAC9D,EAAA,MAAM,WAAc,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,WAAA,CAAA;AAC/D,EAAA,MAAM,KAAQ,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,KAAA,CAAA;AACzD,EAAA,MAAM,UAAa,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,UAAA,CAAA;AAC9D,EAAA,MAAM,UAAa,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,UAAA,CAAA;AAC9D,EAAA,MAAM,OAAU,GAAA,MAAA,CAAO,IAAK,CAAA,iBAAA,CAAkB,OAAa,CAAA,KAAA,OAAA,CAAA;AAE3D,EAAM,MAAA,qBAAA,GAAwB,kBAAmB,CAAA,MAAA,EAAQ,gBAAkB,EAAA;AAAA,IACzE,IAAM,EAAA,QAAA;AAAA,GAAA,CAAA,CAAA;AAER,EAAM,MAAA,wBAAA,GAA2B,kBAC/B,CAAA,MAAA,EACA,gBACA,EAAA;AAAA,IACE,IAAM,EAAA,WAAA;AAAA,GAAA,CAAA,CAAA;AAGV,EAAM,MAAA,qBAAA,GAAwB,kBAAmB,CAAA,MAAA,EAAQ,gBAAkB,EAAA;AAAA,IACzE,IAAM,EAAA,QAAA;AAAA,GAAA,CAAA,CAAA;AAER,EAAM,MAAA,gBAAA,GAAmB,mBAAmB,MAAQ,EAAA,iBAAA,CAAA,CAAA;AAEpD,EAAA,2CACG,IAAD,EAAA;AAAA,IAAM,SAAS,EAAA,IAAA;AAAA,GAAA,sCACZ,UAAD,EAAA;AAAA,IAAY,KAAM,EAAA,aAAA;AAAA,IAAc,SAAA,EAAW,EAAE,EAAI,EAAA,EAAA,EAAA;AAAA,GAAA,sCAC9C,UAAD,EAAA;AAAA,IAAY,OAAQ,EAAA,OAAA;AAAA,IAAQ,SAAS,EAAA,IAAA;AAAA,IAAC,WAAW,OAAQ,CAAA,WAAA;AAAA,GAAA,EACtD,wCAAQ,QAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAkB,WAAe,KAAA,gBAAA,CAAA,CAAA,sCAGrC,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,OAAA;AAAA,IACN,KAAM,EAAA,UAAA;AAAA,IACN,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAAA,EAE/B,gBAAiB,CAAA,MAAA,GAAS,CACzB,oBAAA,KAAA,CAAA,aAAA,CAAC,cAAD,EAAA;AAAA,IAAgB,UAAY,EAAA,gBAAA;AAAA,IAAkB,WAAY,EAAA,OAAA;AAAA,GAAA,CAAA,CAAA,EAG5D,CAAY,QAAA,IAAA,qBAAA,CAAsB,MAAS,GAAA,CAAA,yCAC1C,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,QAAA;AAAA,IACN,KAAM,EAAA,WAAA;AAAA,IACN,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAAA,EAE/B,qBAAsB,CAAA,MAAA,GAAS,CAC9B,oBAAA,KAAA,CAAA,aAAA,CAAC,cAAD,EAAA;AAAA,IACE,UAAY,EAAA,qBAAA;AAAA,IACZ,WAAY,EAAA,QAAA;AAAA,GAAA,CAAA,CAAA,EAKlB,UACA,WACA,IAAA,UAAA,IACA,sBAAsB,MAAS,GAAA,CAAA,yCAC9B,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,QAAA;AAAA,IACN,KAAM,EAAA,WAAA;AAAA,IACN,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAAA,EAE/B,qBAAsB,CAAA,MAAA,GAAS,CAC9B,oBAAA,KAAA,CAAA,aAAA,CAAC,cAAD,EAAA;AAAA,IACE,UAAY,EAAA,qBAAA;AAAA,IACZ,WAAY,EAAA,QAAA;AAAA,GAAA,CAAA,CAAA,EAKnB,WAAe,IAAA,wBAAA,CAAyB,MAAS,GAAA,CAAA,wCAC/C,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,kBAAA;AAAA,IACN,KAAM,EAAA,qBAAA;AAAA,IACN,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAAA,sCAE/B,cAAD,EAAA;AAAA,IACE,UAAY,EAAA,wBAAA;AAAA,IACZ,WAAY,EAAA,WAAA;AAAA,GAAA,CAAA,CAAA,EAIhB,CACA,KAAA,IAAA,WAAA,IACA,UACA,IAAA,UAAA,IACA,OACA,IAAA,UAAA,IACA,QAAO,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAQ,IAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAc,IAAS,CAAA,KAAA,QAAA,yCAC7B,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,MAAA;AAAA,IACN,KAAA,EAAO,CAAQ,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,IAAA,KAAR,IAAc,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA;AAAA,IACrB,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAGlC,CAAA,EAAA,CAAA,KAAA,IACA,eACA,QAAO,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAQ,SAAR,IAAc,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,SAAA,CAAA,KAAc,QACnC,qBAAA,KAAA,CAAA,aAAA,CAAC,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,WAAA;AAAA,IACN,KAAA,EAAO,CAAQ,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,IAAA,KAAR,IAAc,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,SAAA;AAAA,IACrB,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAAA,CAAA,sCAGnC,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,MAAA;AAAA,IACN,KAAM,EAAA,SAAA;AAAA,IACN,WAAW,EAAE,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,GAAG,EAAI,EAAA,CAAA,EAAA;AAAA,GAE9B,EAAA,CAAA,CAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAQ,aAAR,IAAkB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAA,KAAQ,IAAI,GAAI,CAAA,CAAA,CAAA,yCACjC,IAAD,EAAA;AAAA,IAAM,GAAK,EAAA,CAAA;AAAA,IAAG,IAAK,EAAA,OAAA;AAAA,IAAQ,KAAO,EAAA,CAAA;AAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;ACzG5C,MAAMA,cAAY,UAAW,CAAA;AAAA,EAC3B,YAAc,EAAA;AAAA,IACZ,OAAS,EAAA,MAAA;AAAA,IACT,aAAe,EAAA,QAAA;AAAA,IACf,MAAQ,EAAA,mBAAA;AAAA,IACR,YAAc,EAAA,MAAA;AAAA,GAAA;AAAA,EAEhB,cAAgB,EAAA;AAAA,IACd,OAAS,EAAA,MAAA;AAAA,IACT,aAAe,EAAA,QAAA;AAAA,IACf,MAAQ,EAAA,MAAA;AAAA,GAAA;AAAA,EAEV,mBAAqB,EAAA;AAAA,IACnB,IAAM,EAAA,CAAA;AAAA,GAAA;AAAA,EAER,qBAAuB,EAAA;AAAA,IACrB,IAAM,EAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA;AAgBH,SAAA,SAAA,CAAmB,KAAuB,EAAA;AArFjD,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AAsFE,EAAA,MAAM,EAAE,OAAY,EAAA,GAAA,KAAA,CAAA;AACpB,EAAA,MAAM,OAAU,GAAAA,WAAA,EAAA,CAAA;AAChB,EAAA,MAAM,EAAE,MAAW,EAAA,GAAA,SAAA,EAAA,CAAA;AACnB,EAAA,MAAM,qBAAqB,MAAO,CAAA,qBAAA,CAAA,CAAA;AAClC,EAAA,MAAM,aAAa,MAAO,CAAA,aAAA,CAAA,CAAA;AAC1B,EAAA,MAAM,WAAW,MAAO,CAAA,WAAA,CAAA,CAAA;AACxB,EAAA,MAAM,kBAAkB,WAAY,CAAA,mBAAA,CAAA,CAAA;AAEpC,EAAM,MAAA,oBAAA,GAAuB,wBAC3B,MACA,EAAA,kBAAA,CAAA,CAAA;AAEF,EAAA,MAAM,qBACJ,GAAA,CAAA,EAAA,GAAA,MAAA,CAAO,QAAS,CAAA,WAAA,KAAhB,IAA8B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,CAAA;AAEhC,EAAA,MAAM,YAAsC,GAAA;AAAA,IAC1C,KAAO,EAAA,aAAA;AAAA,IACP,UAAU,CAAC,oBAAA;AAAA,IACX,IAAA,sCAAO,kBAAD,EAAA;AAAA,MAAoB,MAAM,oBAAsB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,oBAAA,CAAA,eAAA;AAAA,KAAA,CAAA;AAAA,IACtD,MAAM,oBAAsB,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,oBAAA,CAAA,iBAAA;AAAA,GAAA,CAAA;AAE9B,EAAA,MAAM,cAAwC,GAAA;AAAA,IAC5C,KAAO,EAAA,eAAA;AAAA,IACP,UACE,EAAC,CAAA,EAAA,GAAA,MAAA,CAAO,SAAS,WAAhB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAA8B,iCAC/B,CAAC,eAAA;AAAA,IACH,IAAA,sCAAO,QAAD,EAAA,IAAA,CAAA;AAAA,IACN,IAAA,EACE,mBACA,eAAgB,CAAA;AAAA,MACd,SAAA,EAAW,MAAO,CAAA,QAAA,CAAS,SAAa,IAAA,iBAAA;AAAA,MACxC,MAAM,MAAO,CAAA,IAAA;AAAA,MACb,IAAA,EAAM,OAAO,QAAS,CAAA,IAAA;AAAA,KAAA,CAAA;AAAA,GAAA,CAAA;AAI5B,EAAA,IAAI,SAAY,GAAA,EAAA,CAAA;AAChB,EAAA,IAAI,YAAY,UAAY,EAAA;AAC1B,IAAA,SAAA,GAAY,OAAQ,CAAA,YAAA,CAAA;AAAA,GAAA,MAAA,IACX,YAAY,YAAc,EAAA;AACnC,IAAA,SAAA,GAAY,OAAQ,CAAA,cAAA,CAAA;AAAA,GAAA;AAGtB,EAAA,IAAI,gBAAmB,GAAA,EAAA,CAAA;AACvB,EAAA,IAAI,YAAY,UAAY,EAAA;AAC1B,IAAA,gBAAA,GAAmB,OAAQ,CAAA,mBAAA,CAAA;AAAA,GAAA,MAAA,IAClB,YAAY,YAAc,EAAA;AACnC,IAAA,gBAAA,GAAmB,OAAQ,CAAA,qBAAA,CAAA;AAAA,GAAA;AAG7B,EAAA,MAAM,cAAiB,GAAA,CAAA,EAAA,GAAA,MAAA,CAAO,QAAS,CAAA,WAAA,KAAhB,IAA8B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,CAAA;AAErD,EAAA,MAAM,YACJ,GAAA,CAAA,cAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,cAAA,CAAgB,UAAW,CAAA,MAAA,CAAA,uDAA2B,UAAW,CAAA,OAAA,CAAA,CAAA,CAAA;AACnE,EAAM,MAAA,aAAA,GAAgB,YAAY,YAAY;AAC5C,IAAM,MAAA,UAAA,CAAW,cAAc,kBAAmB,CAAA,MAAA,CAAA,CAAA,CAAA;AAClD,IAAA,QAAA,CAAS,IAAK,CAAA,EAAE,OAAS,EAAA,mBAAA,EAAqB,QAAU,EAAA,MAAA,EAAA,CAAA,CAAA;AAAA,GACvD,EAAA,CAAC,YAAY,QAAU,EAAA,MAAA,CAAA,CAAA,CAAA;AAE1B,EAAA,2CACG,IAAD,EAAA;AAAA,IAAM,SAAW,EAAA,SAAA;AAAA,GAAA,sCACd,UAAD,EAAA;AAAA,IACE,KAAM,EAAA,OAAA;AAAA,IACN,MACE,kBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACG,YACC,oBAAA,KAAA,CAAA,aAAA,CAAC,UAAD,EAAA;AAAA,MACE,YAAW,EAAA,SAAA;AAAA,MACX,KAAM,EAAA,yBAAA;AAAA,MACN,OAAS,EAAA,aAAA;AAAA,KAAA,kBAER,KAAA,CAAA,aAAA,CAAA,UAAA,EAAD,IAGJ,CAAA,CAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,UAAD,EAAA;AAAA,MACE,SAAW,EAAA,IAAA;AAAA,MACX,YAAW,EAAA,MAAA;AAAA,MACX,UAAU,CAAC,qBAAA;AAAA,MACX,KAAM,EAAA,eAAA;AAAA,MACN,IAAI,qBAAyB,IAAA,IAAA,GAAA,qBAAA,GAAA,GAAA;AAAA,KAAA,sCAE5B,QAAD,EAAA,IAAA,CAAA,CAAA,CAAA;AAAA,IAIN,SAAA,sCAAY,iBAAD,EAAA;AAAA,MAAmB,KAAA,EAAO,CAAC,YAAc,EAAA,cAAA,CAAA;AAAA,KAAA,CAAA;AAAA,GAAA,CAAA,kBAErD,KAAA,CAAA,aAAA,CAAA,OAAA,EAAD,IACA,CAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,WAAD,EAAA;AAAA,IAAa,SAAW,EAAA,gBAAA;AAAA,GAAA,sCACrB,YAAD,EAAA;AAAA,IAAc,MAAA;AAAA,GAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;AC7ItB,MAAMA,WAAY,GAAA,UAAA,CAAW,CAAC,KAAA,KAC5B,YAAa,CAAA;AAAA,EACX,IAAM,EAAA;AAAA,IAAA,GACD,MAAM,UAAW,CAAA,EAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA,CAAA;AAwBnB,SAAA,iBAAA,CAA2B,KAA+B,EAAA;AA7DjE,EAAA,IAAA,EAAA,CAAA;AA8DE,EAAM,MAAA,EAAE,aAAgB,GAAA,WAAA,EAAa,YAAiB,EAAA,GAAA,KAAA,CAAA;AACtD,EAAA,MAAM,OAAU,GAAAA,WAAA,EAAA,CAAA;AAChB,EAAA,MAAM,aAAa,MAAO,CAAA,aAAA,CAAA,CAAA;AAC1B,EAAA,MAAM,EAAE,KAAA,EAAO,QAAa,EAAA,GAAA,QAAA,CAAS,YAAY;AAC/C,IAAO,OAAA,MAAM,WACV,eAAgB,CAAA,EAAE,QAAQ,CAAC,MAAA,CAAA,EAAA,CAAA,CAC3B,KAAK,CAAS,QAAA,KAAA;AApErB,MAAA,IAAA,GAAA,CAAA;AAoEwB,MAAA,OAAA,CAAA,CAAA,GAAA,GAAA,QAAA,CAAS,OAAO,IAAhB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,GAAA,CAAsB,IAAI,CAAK,CAAA,KAAA,CAAA,CAAE,OAAO,IAAU,EAAA,KAAA,EAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AAAA,GAAA,CAAA,CAAA;AAExE,EAAM,MAAA;AAAA,IACJ,aAAA;AAAA,IACA,eAAA,EAAiB,EAAE,IAAM,EAAA,aAAA,EAAA;AAAA,GACvB,GAAA,aAAA,EAAA,CAAA;AAEJ,EAAM,MAAA,cAAA,GAAiB,QACrB,MAAG;AA5EP,IAAA,IAAA,GAAA,CAAA;AA4EU,IAAA,OAAA,CAAA,GAAA,GAAA,CAAC,aAAe,CAAA,CAAA,IAAA,EAAA,CAAO,CAAvB,CAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,GAAA,CAA2B,iBAAkB,CAAA,OAAA,CAAA,CAAA;AAAA,GAAA,EACnD,CAAC,aAAA,CAAA,CAAA,CAAA;AAEH,EAAA,MAAM,CAAC,YAAA,EAAc,eAAmB,CAAA,GAAA,QAAA,CACtC,cAAkB,IAAA,IAAA,GAAA,cAAA,GAAA,aAAA,CAAA,CAAA;AAGpB,EAAA,SAAA,CAAU,MAAM;AACd,IAAc,aAAA,CAAA;AAAA,MACZ,IAAM,EAAA,YAAA,GAAe,IAAI,gBAAA,CAAiB,YAAgB,CAAA,GAAA,KAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AAAA,GAAA,EAE3D,CAAC,YAAc,EAAA,aAAA,CAAA,CAAA,CAAA;AAIlB,EAAA,SAAA,CAAU,MAAM;AACd,IAAA,IAAI,cAAgB,EAAA;AAClB,MAAgB,eAAA,CAAA,cAAA,CAAA,CAAA;AAAA,KAAA;AAAA,GAAA,EAEjB,CAAC,cAAA,CAAA,CAAA,CAAA;AAOJ,EAAA,MAAM,iBAAiB,CAAC,UAAA,CAAW,eAAe,MAChD,CAAA,CAAA,EAAA,GAAA,QAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,QAAA,CAAU,OAAO,CACf,CAAA,KAAA,YAAA,GACI,aAAa,IACX,CAAA,CAAA,CAAA,KAAK,EAAE,iBAAkB,CAAA,OAAA,CAAA,KAAa,EAAE,iBAAkB,CAAA,OAAA,CAAA,CAAA,GAE5D,UALN,IAMK,GAAA,EAAA,GAAA,EAAA,CAAA,CAAA;AAEP,EAAA,MAAM,UAAU,cAAe,CAAA,IAAA,EAAA,CAAO,MAAO,CAAA,CAAC,KAAK,IAAS,KAAA;AAC1D,IAAI,GAAA,CAAA,IAAA,CAAK,kBAAkB,OAAY,CAAA,CAAA,GAAA,IAAA,CAAA;AACvC,IAAO,OAAA,GAAA,CAAA;AAAA,GACN,EAAA,EAAA,CAAA,CAAA;AAEH,EAAA,2CACG,MAAD,EAAA;AAAA,IACE,KAAA,sCAAQ,SAAD,EAAA;AAAA,MAAW,KAAO,EAAA,YAAA;AAAA,KAAA,CAAA;AAAA,IACzB,KAAO,EAAA,YAAA;AAAA,IACP,QAAU,EAAA,CAAA,CAAA,KAAK,eAAgB,CAAA,CAAA,CAAE,MAAO,CAAA,KAAA,CAAA;AAAA,IACxC,OAAA;AAAA,GAAA,EAEC,OAAO,IAAK,CAAA,OAAA,CAAA,CAAS,GAAI,CAAA,CAAA,IAAA,yCACvB,QAAD,EAAA;AAAA,IAAU,KAAO,EAAA,IAAA;AAAA,IAAM,GAAK,EAAA,IAAA;AAAA,GAAA,EACzB,GAAG,OAAQ,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;ACjGtB,MAAMA,cAAY,UAAW,CAAA;AAAA,EAC3B,aAAe,EAAA;AAAA,IACb,QAAU,EAAA,MAAA;AAAA,GAAA;AAAA,EAEZ,QAAU,EAAA;AAAA,IACR,KAAO,EAAA,MAAA;AAAA,IACP,SAAW,EAAA,WAAA;AAAA,IACX,YAAc,EAAA,MAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA;AAcX,SAAA,2BAAA,CACL,KACA,EAAA;AACA,EAAA,MAAM,SAAS,KAAM,CAAA,MAAA,CAAA;AAErB,EAAA,MAAM,OAAU,GAAAA,WAAA,EAAA,CAAA;AAChB,EAAA,2CACG,IAAD,EAAA;AAAA,IAAM,IAAI,MAAO,CAAA,QAAA;AAAA,GAAA,sCACd,QAAD,EAAA;AAAA,IAAU,UAAW,EAAA,YAAA;AAAA,IAAa,WAAW,OAAQ,CAAA,aAAA;AAAA,GAAA,sCAClD,YAAD,EAAA;AAAA,IACE,WAAW,OAAQ,CAAA,QAAA;AAAA,IACnB,sBAAA,EAAwB,EAAE,OAAS,EAAA,IAAA,EAAA;AAAA,IACnC,SAAS,MAAO,CAAA,KAAA;AAAA,IAChB,WAAW,MAAO,CAAA,IAAA;AAAA,GAAA,CAAA,sCAEnB,GAAD,EAAA,IAAA,EACG,MAAO,CAAA,IAAA,wCAAS,IAAD,EAAA;AAAA,IAAM,KAAA,EAAO,SAAS,MAAO,CAAA,IAAA,CAAA,CAAA;AAAA,IAAQ,IAAK,EAAA,OAAA;AAAA,GACzD,CAAA,EAAA,MAAA,CAAO,SACN,oBAAA,KAAA,CAAA,aAAA,CAAC,IAAD,EAAA;AAAA,IAAM,KAAA,EAAO,cAAc,MAAO,CAAA,SAAA,CAAA,CAAA;AAAA,IAAa,IAAK,EAAA,OAAA;AAAA,GAAA,CAAA,CAAA,CAAA,sCAIzD,OAAD,EAAA;AAAA,IAAS,SAAU,EAAA,IAAA;AAAA,GAAA,CAAA,CAAA,CAAA;AAAA;;AC1CZ,MAAA,eAAA,GAAkB,OAAO,MAAO,CAAA;AAAA,EAC3C,iBAAiB,OAEgB,EAAA;AAC/B,IAAA,SAAA,aAAA,CAAuB,MAAwB,EAAA;AAjCnD,MAAA,IAAA,EAAA,CAAA;AAkCM,MAAA,OACE,CAAO,CAAA,EAAA,GAAA,MAAA,CAAA,QAAA,KAAP,IAAiB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,KACjB,kBAAkB,MAAQ,EAAA;AAAA,QACxB,aAAa,OAAS,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,OAAA,CAAA,WAAA;AAAA,OAAA,CAAA,CAAA;AAAA,KAAA;AAK5B,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,MAAA;AAAA,MACP,KAAO,EAAA,eAAA;AAAA,MACP,SAAW,EAAA,IAAA;AAAA,MACX,WAAW,EAAE,MAAA,EAAQ,OAAW,EAAA,EAAA,EAAE,QAAQ,OAAW,EAAA,EAAA;AAGnD,QAAO,OAAA,aAAA,CAAc,OAAS,CAAA,CAAA,aAAA,CAAc,aAAc,CAAA,OAAA,CAAA,CAAA,CAAA;AAAA,OAAA;AAAA,MAE5D,MAAA,EAAQ,CAAC,EAAE,MAAU,EAAA,KAAA;AAnD3B,QAAA,IAAA,EAAA,CAAA;AAoDQ,QAAA,uBAAA,KAAA,CAAA,aAAA,CAAC,aAAD,EAAA;AAAA,UACE,SAAW,EAAA,MAAA;AAAA,UACX,WAAA,EAAa,oCAAS,WAAe,KAAA,WAAA;AAAA,UACrC,KAAA,EAAO,CAAO,EAAA,GAAA,MAAA,CAAA,QAAA,KAAP,IAAiB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA;AAAA,SAAA,CAAA,CAAA;AAAA,OAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAKhC,kBAAmD,GAAA;AACjD,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,QAAA;AAAA,MACP,KAAO,EAAA,oCAAA;AAAA,MACP,MAAQ,EAAA,CAAC,EAAE,QAAA,EAAA,yCACR,cAAD,EAAA;AAAA,QACE,YAAY,QAAS,CAAA,qBAAA;AAAA,QACrB,WAAY,EAAA,QAAA;AAAA,OAAA,CAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAKpB,iBAAkD,GAAA;AAChD,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,OAAA;AAAA,MACP,KAAO,EAAA,gCAAA;AAAA,MACP,MAAQ,EAAA,CAAC,EAAE,QAAA,EAAA,yCACR,cAAD,EAAA;AAAA,QACE,YAAY,QAAS,CAAA,gBAAA;AAAA,QACrB,WAAY,EAAA,OAAA;AAAA,OAAA,CAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAKpB,oBAAqD,GAAA;AACnD,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,MAAA;AAAA,MACP,KAAO,EAAA,kBAAA;AAAA,MACP,MAAQ,EAAA,IAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAGZ,yBAA0D,GAAA;AACxD,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,WAAA;AAAA,MACP,KAAO,EAAA,uBAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAGX,+BAAgE,GAAA;AAC9D,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,aAAA;AAAA,MACP,KAAO,EAAA,6BAAA;AAAA,MACP,MAAQ,EAAA,CAAC,EAAE,MAAA,EAAA,yCACR,eAAD,EAAA;AAAA,QACE,IAAA,EAAM,OAAO,QAAS,CAAA,WAAA;AAAA,QACtB,SAAU,EAAA,cAAA;AAAA,OAAA,CAAA;AAAA,MAGd,KAAO,EAAA,MAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAGX,gBAAiD,GAAA;AAC/C,IAAO,OAAA;AAAA,MACL,KAAO,EAAA,MAAA;AAAA,MACP,KAAO,EAAA,sBAAA;AAAA,MACP,SAAW,EAAA;AAAA,QACT,OAAS,EAAA,mBAAA;AAAA,OAAA;AAAA,MAEX,MAAQ,EAAA,CAAC,EAAE,MAAA,EAAA,+DAEN,MAAO,CAAA,QAAA,CAAS,IACf,IAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAK,GAAI,CAAA,CAAA,CAAA,yCACtB,IAAD,EAAA;AAAA,QACE,GAAK,EAAA,CAAA;AAAA,QACL,KAAO,EAAA,CAAA;AAAA,QACP,IAAK,EAAA,OAAA;AAAA,QACL,OAAQ,EAAA,UAAA;AAAA,QACR,KAAA,EAAO,EAAE,YAAc,EAAA,KAAA,EAAA;AAAA,OAAA,CAAA,CAAA,CAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA;;ACxEvC,MAAM,aAAa,UAAW,CAAA;AAAA,EAC5B,IAAM,EAAA;AAAA,IACJ,KAAO,EAAA,SAAA;AAAA,GAAA;AAAA,CAER,CAAA,CAAA,IAAA,CAAA,CAAA;AAGU,MAAA,YAAA,GAAe,CAAC,KAA6B,KAAA;AA7D1D,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA8DE,EAAM,MAAA,EAAE,SAAS,OAAY,EAAA,GAAA,KAAA,CAAA;AAC7B,EAAM,MAAA,EAAE,iBAAiB,mBAAwB,EAAA,GAAA,kBAAA,EAAA,CAAA;AACjD,EAAA,MAAM,EAAE,OAAA,EAAS,KAAO,EAAA,QAAA,EAAU,OAAY,EAAA,GAAA,aAAA,EAAA,CAAA;AAE9C,EAAM,MAAA,cAAA,GAAiD,QACrD,MAAG;AAnEP,IAAA,IAAA,GAAA,CAAA;AAmEU,IAAA,OAAA;AAAA,MACJ,gBAAgB,gBAAiB,CAAA,EAAE,WAAa,EAAA,CAAA,GAAA,GAAA,OAAA,CAAQ,SAAR,IAAc,GAAA,KAAA,CAAA,GAAA,GAAA,CAAA,KAAA,EAAA,CAAA;AAAA,MAC9D,eAAgB,CAAA,kBAAA,EAAA;AAAA,MAChB,eAAgB,CAAA,iBAAA,EAAA;AAAA,MAChB,eAAgB,CAAA,oBAAA,EAAA;AAAA,MAChB,eAAgB,CAAA,yBAAA,EAAA;AAAA,MAChB,eAAgB,CAAA,+BAAA,EAAA;AAAA,MAChB,eAAgB,CAAA,gBAAA,EAAA;AAAA,KAAA,CAAA;AAAA,GAElB,EAAA,CAAC,CAAQ,EAAA,GAAA,OAAA,CAAA,IAAA,KAAR,IAAc,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AAGjB,EAAM,MAAA,cAAA,GAAiB,QAAQ,IAAS,KAAA,KAAA,CAAA,CAAA;AAExC,EAAA,MAAM,gBAAgBC,YAAW,CAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,OAAA,CAAQ,IAAR,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAc,UAAd,IAAuB,GAAA,EAAA,GAAA,KAAA,CAAA,CAAA;AAExD,EAAA,IAAI,KAAO,EAAA;AACT,IAAA,uBACG,KAAA,CAAA,aAAA,CAAA,KAAA,EAAD,IACE,kBAAA,KAAA,CAAA,aAAA,CAAC,YAAD,EAAA;AAAA,MACE,QAAS,EAAA,OAAA;AAAA,MACT,KAAM,EAAA,mCAAA;AAAA,KAAA,sCAEL,WAAD,EAAA;AAAA,MAAa,QAAS,EAAA,MAAA;AAAA,MAAO,MAAM,KAAM,CAAA,QAAA,EAAA;AAAA,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AAMjD,EAAA,MAAM,cAAyD,GAAA;AAAA,IAC7D,CAAC,EAAE,MAAa,EAAA,KAAA;AAjGpB,MAAA,IAAA,GAAA,CAAA;AAkGM,MAAA,MAAM,GAAM,GAAA,CAAA,GAAA,GAAA,MAAA,CAAO,QAAS,CAAA,WAAA,KAAhB,IAA8B,GAAA,KAAA,CAAA,GAAA,GAAA,CAAA,mBAAA,CAAA,CAAA;AAC1C,MAAO,OAAA;AAAA,QACL,IAAA,EAAM,sBAAM,KAAA,CAAA,aAAA,CAAC,SAAD,EAAA;AAAA,UAAW,YAAW,EAAA,MAAA;AAAA,UAAO,QAAS,EAAA,OAAA;AAAA,SAAA,CAAA;AAAA,QAClD,OAAS,EAAA,MAAA;AAAA,QACT,UAAU,CAAC,GAAA;AAAA,QACX,SAAS,MAAM;AACb,UAAA,IAAI,CAAC,GAAA;AAAK,YAAA,OAAA;AACV,UAAA,MAAA,CAAO,KAAK,GAAK,EAAA,QAAA,CAAA,CAAA;AAAA,SAAA;AAAA,OAAA,CAAA;AAAA,KAAA;AAAA,IAIvB,CAAC,EAAE,MAAa,EAAA,KAAA;AA7GpB,MAAA,IAAA,GAAA,CAAA;AA8GM,MAAA,MAAM,GAAM,GAAA,CAAA,GAAA,GAAA,MAAA,CAAO,QAAS,CAAA,WAAA,KAAhB,IAA8B,GAAA,KAAA,CAAA,GAAA,GAAA,CAAA,mBAAA,CAAA,CAAA;AAC1C,MAAO,OAAA;AAAA,QACL,IAAA,EAAM,sBAAM,KAAA,CAAA,aAAA,CAACC,QAAD,EAAA;AAAA,UAAM,YAAW,EAAA,MAAA;AAAA,UAAO,QAAS,EAAA,OAAA;AAAA,SAAA,CAAA;AAAA,QAC7C,OAAS,EAAA,MAAA;AAAA,QACT,UAAU,CAAC,GAAA;AAAA,QACX,SAAS,MAAM;AACb,UAAA,IAAI,CAAC,GAAA;AAAK,YAAA,OAAA;AACV,UAAA,MAAA,CAAO,KAAK,GAAK,EAAA,QAAA,CAAA,CAAA;AAAA,SAAA;AAAA,OAAA,CAAA;AAAA,KAAA;AAAA,IAIvB,CAAC,EAAE,MAAa,EAAA,KAAA;AACd,MAAA,MAAM,YAAY,eAAgB,CAAA,MAAA,CAAA,CAAA;AAClC,MAAO,OAAA;AAAA,QACL,SAAA,EAAW,EAAE,WAAa,EAAA,KAAA,EAAA;AAAA,QAC1B,MAAM,MAAO,SAAA,uCAAa,UAAD,EAAA,IAAA,CAAA,uCAAkB,UAAD,EAAA,IAAA,CAAA;AAAA,QAC1C,OAAA,EAAS,YAAY,uBAA0B,GAAA,kBAAA;AAAA,QAC/C,OAAA,EAAS,MAAM,mBAAoB,CAAA,MAAA,CAAA;AAAA,OAAA,CAAA;AAAA,KAAA;AAAA,GAAA,CAAA;AAKzC,EAAM,MAAA,IAAA,GAAO,QAAS,CAAA,GAAA,CAAI,CAAU,MAAA,KAAA;AAClC,IAAM,MAAA,qBAAA,GAAwB,kBAAmB,CAAA,MAAA,EAAQ,gBAAkB,EAAA;AAAA,MACzE,IAAM,EAAA,QAAA;AAAA,KAAA,CAAA,CAAA;AAER,IAAM,MAAA,gBAAA,GAAmB,mBAAmB,MAAQ,EAAA,iBAAA,CAAA,CAAA;AAEpD,IAAO,OAAA;AAAA,MACL,MAAA;AAAA,MACA,QAAU,EAAA;AAAA,QACR,IAAA,EAAM,kBAAkB,MAAQ,EAAA;AAAA,UAC9B,WAAa,EAAA,WAAA;AAAA,SAAA,CAAA;AAAA,QAEf,qBAAA,EAAuB,iBACpB,GAAI,CAAA,CAAA,CAAA,KAAK,kBAAkB,CAAG,EAAA,EAAE,WAAa,EAAA,OAAA,EAAA,CAAA,CAAA,CAC7C,IAAK,CAAA,IAAA,CAAA;AAAA,QACR,gBAAA;AAAA,QACA,yBAA2B,EAAA,qBAAA,CACxB,GAAI,CAAA,CAAA,CAAA,KACH,kBAAkB,CAAG,EAAA;AAAA,UACnB,WAAa,EAAA,QAAA;AAAA,SAAA,CAAA,CAAA,CAGhB,IAAK,CAAA,IAAA,CAAA;AAAA,QACR,qBAAA;AAAA,OAAA;AAAA,KAAA,CAAA;AAAA,GAAA,CAAA,CAAA;AAKN,EAAA,MAAM,aAAc,CAAW,OAAA,IAAA,cAAA,EAAgB,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,KAAU,KAAA,MAAA,CAAA,CAAA;AACrE,EAAA,IAAI,UAAY,EAAA;AACd,IAAA,UAAA,CAAW,SAAS,CAAC,cAAA,CAAA;AAAA,GAAA;AAEvB,EAAM,MAAA,cAAA,GAAiB,KAAK,MAAS,GAAA,EAAA,CAAA;AAErC,EAAA,2CACG,KAAD,EAAA;AAAA,IACE,SAAW,EAAA,OAAA;AAAA,IACX,SAAS,OAAW,IAAA,cAAA;AAAA,IACpB,OAAS,EAAA;AAAA,MACP,MAAQ,EAAA,cAAA;AAAA,MACR,QAAU,EAAA,EAAA;AAAA,MACV,kBAAoB,EAAA,CAAA,CAAA;AAAA,MACpB,WAAa,EAAA,QAAA;AAAA,MACb,4BAA4B,CAAC,OAAA;AAAA,MAC7B,OAAS,EAAA,OAAA;AAAA,MACT,eAAA,EAAiB,CAAC,EAAA,EAAI,EAAI,EAAA,GAAA,CAAA;AAAA,KAAA;AAAA,IAE5B,KAAA,EAAO,CAAG,EAAA,aAAA,CAAA,EAAA,EAAkB,QAAS,CAAA,MAAA,CAAA,CAAA,CAAA;AAAA,IACrC,IAAM,EAAA,IAAA;AAAA,IACN,SAAS,OAAW,IAAA,cAAA;AAAA,GAAA,CAAA,CAAA;AAAA,EAAA;AAK1B,YAAA,CAAa,OAAU,GAAA,eAAA;;ACvJvB,MAAM,YAAYC,YAAW,CAAA;AAAA,EAC3B,MAAQ,EAAA;AAAA,IACN,KAAO,EAAA,OAAA;AAAA,GAAA;AAAA,CAAA,CAAA,CAAA;AAwBJ,SAAA,iBAAA,CAA2B,KAA+B,EAAA;AA7DjE,EAAA,IAAA,EAAA,CAAA;AA8DE,EAAM,MAAA;AAAA,IACJ,8BAAA;AAAA,IACA,2BAAA;AAAA,IACA,kBAAA;AAAA,IACA,eAAA;AAAA,GACE,GAAA,KAAA,CAAA;AACJ,EAAM,MAAA,CAAC,UAAU,WAAe,CAAA,GAAA,QAAA,EAAA,CAAA;AAChC,EAAA,MAAM,OAAU,GAAA,SAAA,EAAA,CAAA;AAChB,EAAA,MAAM,uBAAuB,mBAC3B,CAAA,6BAAA,CAAA,CAAA;AAGF,EAAM,MAAA,MAAA,GAAS,CAAC,KAAmD,KAAA;AACjE,IAAA,WAAA,CAAY,KAAM,CAAA,aAAA,CAAA,CAAA;AAAA,GAAA,CAAA;AAGpB,EAAA,MAAM,UAAU,MAAM;AACpB,IAAY,WAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AAAA,GAAA,CAAA;AAGd,EAAA,MAAM,aAAa,8BAAkC,IAAA;AAAA,IACnD,GAAG,8BAAA,CAA+B,GAAI,CAAA,CAAA,IAAA,yCACnC,QAAD,EAAA;AAAA,MACE,KAAK,IAAK,CAAA,KAAA;AAAA,MACV,SAAS,MAAM;AACb,QAAA,OAAA,EAAA,CAAA;AACA,QAAK,IAAA,CAAA,OAAA,EAAA,CAAA;AAAA,OAAA;AAAA,KAAA,kBAGN,KAAA,CAAA,aAAA,CAAA,YAAA,EAAD,IACE,kBAAA,KAAA,CAAA,aAAA,CAAC,KAAK,IAAN,EAAA;AAAA,MAAW,QAAS,EAAA,OAAA;AAAA,KAAA,CAAA,CAAA,sCAErB,YAAD,EAAA;AAAA,MAAc,SAAS,IAAK,CAAA,KAAA;AAAA,KAAA,CAAA,CAAA,CAAA;AAAA,wCAG/B,OAAD,EAAA;AAAA,MAAS,GAAI,EAAA,sBAAA;AAAA,KAAA,CAAA;AAAA,GAAA,CAAA;AAGf,EAAA,MAAM,oBACH,CAAC,EAAA,GAAA,CAAA,oBAAA,CAAqB,OACrB,KAAA,2BAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,2BAAA,CAA6B,uBAD9B,IAED,GAAA,EAAA,GAAA,KAAA,CAAA;AAEF,EACE,uBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,sCACG,UAAD,EAAA;AAAA,IACE,YAAW,EAAA,MAAA;AAAA,IACX,eAAc,EAAA,WAAA;AAAA,IACd,eAAc,EAAA,MAAA;AAAA,IACd,OAAS,EAAA,MAAA;AAAA,IACT,aAAY,EAAA,aAAA;AAAA,IACZ,WAAW,OAAQ,CAAA,MAAA;AAAA,GAAA,kBAElB,KAAA,CAAA,aAAA,CAAA,QAAA,EAAD,IAEF,CAAA,CAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA;AAAA,IACE,MAAM,OAAQ,CAAA,QAAA,CAAA;AAAA,IACd,OAAA;AAAA,IACA,QAAA;AAAA,IACA,YAAc,EAAA,EAAE,QAAU,EAAA,QAAA,EAAU,UAAY,EAAA,OAAA,EAAA;AAAA,IAChD,eAAiB,EAAA,EAAE,QAAU,EAAA,KAAA,EAAO,UAAY,EAAA,OAAA,EAAA;AAAA,GAAA,kBAE/C,KAAA,CAAA,aAAA,CAAA,QAAA,EAAD,IACG,EAAA,UAAA,sCACA,QAAD,EAAA;AAAA,IACE,SAAS,MAAM;AACb,MAAA,OAAA,EAAA,CAAA;AACA,MAAA,kBAAA,EAAA,CAAA;AAAA,KAAA;AAAA,IAEF,QAAU,EAAA,iBAAA;AAAA,GAAA,kBAET,KAAA,CAAA,aAAA,CAAA,YAAA,EAAD,IACE,kBAAA,KAAA,CAAA,aAAA,CAAC,UAAD,EAAA;AAAA,IAAY,QAAS,EAAA,OAAA;AAAA,GAAA,CAAA,CAAA,sCAEtB,YAAD,EAAA;AAAA,IAAc,OAAQ,EAAA,mBAAA;AAAA,GAAA,CAAA,CAAA,sCAEvB,QAAD,EAAA;AAAA,IACE,SAAS,MAAM;AACb,MAAA,OAAA,EAAA,CAAA;AACA,MAAA,eAAA,EAAA,CAAA;AAAA,KAAA;AAAA,GAAA,kBAGD,KAAA,CAAA,aAAA,CAAA,YAAA,EAAD,IACE,kBAAA,KAAA,CAAA,aAAA,CAAC,aAAD,EAAA;AAAA,IAAe,QAAS,EAAA,OAAA;AAAA,GAAA,CAAA,CAAA,sCAEzB,YAAD,EAAA;AAAA,IAAc,OAAQ,EAAA,gBAAA;AAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;ACtFlC,MAAM,OAAU,GAAA,kCAAA,CAAA;AAEhB,MAAM,QAAiD,MAAM,IAAA,CAAA;AAC7D,mBAAA,CAAoB,OAAO,OAAS,EAAA,IAAA,CAAA,CAAA;AACpC,mBAAA,CAAoB,OAAO,wBAA0B,EAAA,IAAA,CAAA,CAAA;AAErD,SAAA,iBAAA,CAA2B,KAGxB,EAAA;AACD,EAAM,MAAA,EAAE,QAAQ,KAAU,EAAA,GAAA,KAAA,CAAA;AAC1B,EAAA,2CACG,GAAD,EAAA;AAAA,IAAK,OAAQ,EAAA,aAAA;AAAA,IAAc,UAAW,EAAA,QAAA;AAAA,IAAS,MAAO,EAAA,KAAA;AAAA,IAAM,QAAS,EAAA,MAAA;AAAA,GAAA,sCAClE,GAAD,EAAA;AAAA,IACE,SAAU,EAAA,MAAA;AAAA,IACV,YAAa,EAAA,UAAA;AAAA,IACb,UAAW,EAAA,QAAA;AAAA,IACX,QAAS,EAAA,QAAA;AAAA,GAER,EAAA,KAAA,CAAA,EAEF,MAAU,oBAAA,KAAA,CAAA,aAAA,CAAC,cAAD,EAAA;AAAA,IAAgB,MAAA;AAAA,GAAA,CAAA,CAAA,CAAA;AAAA,CAAA;AAKjC,SACE,WAAA,CAAA,SAAA,EACA,cACA,EAAA,SAAA,EACA,MAC6C,EAAA;AA5F/C,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA6FE,EAAA,MAAM,IAAO,GAAA,CAAA,EAAA,GAAA,SAAA,IAAA,IAAA,GAAA,SAAA,GAAa,MAAQ,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,IAAA,KAArB,IAA6B,GAAA,EAAA,GAAA,EAAA,CAAA;AAC1C,EAAA,MAAM,SAAY,GAAA,CAAA,EAAA,GAAA,cAAA,IAAA,IAAA,GAAA,cAAA,GAAkB,MAAQ,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,QAAA,CAAS,cAAnC,IAAgD,GAAA,EAAA,GAAA,EAAA,CAAA;AAClE,EAAM,MAAA,IAAA,GACJ,CAAQ,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,QAAA,CAAS,KAAjB,KAAA,IAAA,GAAA,EAAA,GAA0B,cAA1B,IAAuC,GAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAQ,QAAS,CAAA,IAAA,KAAxD,IAAgE,GAAA,EAAA,GAAA,EAAA,CAAA;AAClE,EAAO,OAAA;AAAA,IACL,aAAa,CAAG,EAAA,IAAA,CAAA,EACd,aAAa,SAAc,KAAA,iBAAA,GAAoB,OAAO,SAAc,CAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AAAA,IAEtE,YAAa,CAAM,MAAA;AACjB,MAAI,IAAA,CAAA,GAAI,KAAK,iBAAkB,CAAA,OAAA,CAAA,CAAA;AAC/B,MAAA,IAAI,MAAU,IAAA,MAAA,CAAO,IAAQ,IAAA,MAAA,IAAU,OAAO,IAAM,EAAA;AAClD,QAAK,CAAA,IAAA,UAAA,CAAA;AACL,QAAM,CAAA,IAAA,MAAA,CAAO,IAA0B,CAAA,IAAA,CAAK,iBAAkB,CAAA,OAAA,CAAA,CAAA;AAAA,OAAA;AAEhE,MAAO,OAAA,CAAA,CAAA;AAAA,KAAA,GAAA;AAAA,GAAA,CAAA;AAAA,CAAA;AAKb,SAAA,YAAA,CAAsB,KAA2B,EAAA;AAhHjD,EAAA,IAAA,EAAA,CAAA;AAiHE,EAAA,MAAM,EAAE,MAAW,EAAA,GAAA,KAAA,CAAA;AACnB,EAAM,MAAA,gBAAA,GAAmB,mBAAmB,MAAQ,EAAA,iBAAA,CAAA,CAAA;AACpD,EAAA,uBAEK,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EAAA,gBAAA,CAAiB,MAAS,GAAA,CAAA,wCACxB,WAAD,EAAA;AAAA,IACE,KAAM,EAAA,OAAA;AAAA,IACN,KAAA,sCACG,cAAD,EAAA;AAAA,MACE,UAAY,EAAA,gBAAA;AAAA,MACZ,WAAY,EAAA,OAAA;AAAA,MACZ,KAAM,EAAA,SAAA;AAAA,KAAA,CAAA;AAAA,GAAA,CAAA,EAKb,CAAO,CAAA,EAAA,GAAA,MAAA,CAAA,IAAA,KAAP,IAAa,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,SAAA,yCACX,WAAD,EAAA;AAAA,IAAa,KAAM,EAAA,WAAA;AAAA,IAAY,KAAA,EAAO,OAAO,IAAK,CAAA,SAAA;AAAA,GAAA,CAAA,CAAA,CAAA;AAAA,CAAA;AA2C7C,MAAA,YAAA,GAAe,CAAC,KAA6B,KAAA;AA7K1D,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAAA;AA8KE,EAAM,MAAA;AAAA,IACJ,8BAAA;AAAA,IACA,2BAAA;AAAA,IACA,QAAA;AAAA,GACE,GAAA,KAAA,CAAA;AACJ,EAAA,MAAM,EAAE,IAAA,EAAM,SAAW,EAAA,IAAA,EAAA,GAAS,iBAAkB,CAAA,cAAA,CAAA,CAAA;AACpD,EAAM,MAAA,EAAE,MAAQ,EAAA,OAAA,EAAS,KAAU,EAAA,GAAA,cAAA,EAAA,CAAA;AACnC,EAAA,MAAM,QAAW,GAAA,WAAA,EAAA,CAAA;AACjB,EAAA,MAAM,MAAS,GAAA,gBAAA,CACb,QACA,EAAA,CAAA,QAAA,KACE,SACG,qBAAsB,CAAA;AAAA,IACrB,GAAK,EAAA,OAAA;AAAA,IACL,eACE,EAAA,qDAAA;AAAA,GAAA,CAAA,CAEH,WACA,EAAA,CAAA,OAAA,CAAQ,CAAC,EAAE,OAAO,YAAmB,EAAA,KAAA;AACpC,IAAA,IAAI,CAAC,MAAQ,EAAA;AACX,MAAO,OAAA,EAAA,CAAA;AAAA,KAAA,MAAA,IACE,YAAa,CAAA,EAAA,IAAM,CAAC,YAAA,CAAa,GAAG,MAAS,CAAA,EAAA;AACtD,MAAO,OAAA,EAAA,CAAA;AAAA,KAAA;AAGT,IAAO,OAAA;AAAA,MACL;AAAA,QACE,MAAM,YAAa,CAAA,IAAA;AAAA,QACnB,OAAO,YAAa,CAAA,KAAA;AAAA,QACpB,UAAU,YAAa,CAAA,QAAA;AAAA,QACvB,UAAU,YAAa,CAAA,QAAA;AAAA,OAAA;AAAA,KAAA,CAAA;AAAA,GAAA,CAAA,EAIjC,CAAC,MAAA,CAAA,CAAA,CAAA;AAGH,EAAA,MAAM,EAAE,WAAa,EAAA,UAAA,EAAA,GAAe,WAClC,CAAA,IAAA,EACA,WACA,IACA,EAAA,MAAA,CAAA,CAAA;AAGF,EAAM,MAAA,CAAC,sBAAwB,EAAA,yBAAA,CAAA,GAA6B,QAAS,CAAA,KAAA,CAAA,CAAA;AACrE,EAAM,MAAA,CAAC,oBAAsB,EAAA,uBAAA,CAAA,GAA2B,QAAS,CAAA,KAAA,CAAA,CAAA;AACjE,EAAA,MAAM,QAAW,GAAA,WAAA,EAAA,CAAA;AACjB,EAAA,MAAM,sBAAsB,YAAY;AACtC,IAA0B,yBAAA,CAAA,KAAA,CAAA,CAAA;AAC1B,IAAwB,uBAAA,CAAA,KAAA,CAAA,CAAA;AACxB,IAAS,QAAA,CAAA,GAAA,CAAA,CAAA;AAAA,GAAA,CAAA;AAKX,EAAA,SAAA,CAAU,MAAM;AACd,IAA0B,yBAAA,CAAA,KAAA,CAAA,CAAA;AAC1B,IAAwB,uBAAA,CAAA,KAAA,CAAA,CAAA;AAAA,GAAA,EAEvB,CAAC,QAAS,CAAA,QAAA,CAAA,CAAA,CAAA;AAEb,EAAA,2CACG,IAAD,EAAA;AAAA,IAAM,SAAS,CAAQ,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,IAAA,KAAR,mBAAc,IAAd,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAoB,eAApB,IAAkC,GAAA,EAAA,GAAA,MAAA;AAAA,GAAA,sCAC9C,MAAD,EAAA;AAAA,IACE,KAAA,sCAAQ,iBAAD,EAAA;AAAA,MAAmB,KAAO,EAAA,WAAA;AAAA,MAAa,MAAA;AAAA,KAAA,CAAA;AAAA,IAC9C,iBAAmB,EAAA,WAAA;AAAA,IACnB,IAAM,EAAA,UAAA;AAAA,GAEL,EAAA,MAAA,oBAEG,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,YAAD,EAAA;AAAA,IAAc,MAAA;AAAA,GAAA,CAAA,sCACb,iBAAD,EAAA;AAAA,IACE,8BAAA;AAAA,IACA,2BAAA;AAAA,IACA,kBAAA,EAAoB,MAAM,yBAA0B,CAAA,IAAA,CAAA;AAAA,IACpD,eAAA,EAAiB,MAAM,uBAAwB,CAAA,IAAA,CAAA;AAAA,GAAA,CAAA,CAAA,CAAA,EAMtD,2BAAY,KAAA,CAAA,aAAA,CAAA,QAAA,EAAD,IAEX,CAAA,EAAA,MAAA,wCAAW,UAAD,EAAA;AAAA,IAAY,MAAA;AAAA,GAAA,CAAA,EAEtB,KACC,oBAAA,KAAA,CAAA,aAAA,CAAC,OAAD,EAAA,IAAA,sCACG,KAAD,EAAA;AAAA,IAAO,QAAS,EAAA,OAAA;AAAA,GAAA,EAAS,KAAM,CAAA,QAAA,EAAA,CAAA,CAAA,EAIlC,CAAC,OAAA,IAAW,CAAC,KAAA,IAAS,CAAC,MAAA,oBACrB,KAAA,CAAA,aAAA,CAAA,OAAA,EAAD,IACE,kBAAA,KAAA,CAAA,aAAA,CAAC,YAAD,EAAA;AAAA,IAAc,KAAM,EAAA,kBAAA;AAAA,GAAA,EAAmB,cACxB,EAAA,IAAA,EAAK,qBAAoB,EAAA,GAAA,sCACrC,IAAD,EAAA;AAAA,IAAM,EAAG,EAAA,gEAAA;AAAA,GAAiE,EAAA,2BAAA,CAAA,EAEnE,GAMb,CAAA,CAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,sBAAD,EAAA;AAAA,IACE,IAAM,EAAA,sBAAA;AAAA,IACN,MAAA;AAAA,IACA,SAAW,EAAA,mBAAA;AAAA,IACX,OAAA,EAAS,MAAM,yBAA0B,CAAA,KAAA,CAAA;AAAA,GAAA,CAAA,sCAE1C,mBAAD,EAAA;AAAA,IACE,IAAM,EAAA,oBAAA;AAAA,IACN,MAAA;AAAA,IACA,OAAA,EAAS,MAAM,uBAAwB,CAAA,KAAA,CAAA;AAAA,GAAA,CAAA,CAAA,CAAA;AAAA,EAAA;AAM/C,YAAA,CAAa,KAAQ,GAAA,KAAA;;ACtQd,SAAA,kBAAA,CAA4B,KAAgC,EAAA;AACjE,EAAA,MAAM,EAAE,IAAA,EAAM,OAAS,EAAA,SAAA,EAAW,MAAW,EAAA,GAAA,KAAA,CAAA;AAC7C,EAAM,MAAA,CAAC,IAAM,EAAA,OAAA,CAAA,GAAW,QAAS,CAAA,KAAA,CAAA,CAAA;AACjC,EAAA,MAAM,aAAa,MAAO,CAAA,aAAA,CAAA,CAAA;AAC1B,EAAA,MAAM,WAAW,MAAO,CAAA,WAAA,CAAA,CAAA;AAExB,EAAA,MAAM,WAAW,YAAY;AAC3B,IAAQ,OAAA,CAAA,IAAA,CAAA,CAAA;AACR,IAAI,IAAA;AACF,MAAM,MAAA,GAAA,GAAM,OAAO,QAAS,CAAA,GAAA,CAAA;AAC5B,MAAA,MAAM,WAAW,iBAAkB,CAAA,GAAA,CAAA,CAAA;AACnC,MAAA,SAAA,EAAA,CAAA;AAAA,KAAA,CAAA,OACO,GAAP,EAAA;AACA,MAAY,WAAA,CAAA,GAAA,CAAA,CAAA;AACZ,MAAS,QAAA,CAAA,IAAA,CAAK,EAAE,OAAA,EAAS,GAAI,CAAA,OAAA,EAAA,CAAA,CAAA;AAAA,KAC7B,SAAA;AACA,MAAQ,OAAA,CAAA,KAAA,CAAA,CAAA;AAAA,KAAA;AAAA,GAAA,CAAA;AAIZ,EAAA,2CACG,MAAD,EAAA;AAAA,IAAQ,IAAA;AAAA,IAAY,OAAA;AAAA,GAAA,sCACjB,WAAD,EAAA;AAAA,IAAa,EAAG,EAAA,yBAAA;AAAA,GAAA,EAA0B,8CAG1C,CAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,aAAD,EAAA,IAAA,sCACG,MAAD,EAAA;AAAA,IACE,OAAQ,EAAA,WAAA;AAAA,IACR,KAAM,EAAA,WAAA;AAAA,IACN,QAAU,EAAA,IAAA;AAAA,IACV,OAAS,EAAA,QAAA;AAAA,GACV,EAAA,QAAA,CAAA,sCAGA,MAAD,EAAA;AAAA,IAAQ,OAAS,EAAA,OAAA;AAAA,IAAS,KAAM,EAAA,SAAA;AAAA,GAAU,EAAA,QAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;ACjC3C,SAAA,QAAA,CAAkB,MAAyB,EAAA;AA/BlD,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAgCE,EAAA,OAAO,CAAQ,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,MAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,QAAA,KAAR,IAAkB,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,WAAA,KAAlB,mBAAgC,qBAA2B,CAAA,MAAA,MAAA,CAAA;AAAA,CAAA;AAS9B,SAAA,mBAAA,GAAA;AACpC,EAAA,MAAM,QAAW,GAAA,WAAA,EAAA,CAAA;AACjB,EAAA,MAAM,cAAc,WAAY,CAAA,YAAA,CAAA,CAAA;AAChC,EAAM,MAAA,CAAC,sBAAwB,EAAA,yBAAA,CAAA,GAA6B,QAAS,CAAA,KAAA,CAAA,CAAA;AACrE,EAAA,MAAM,EAAE,MAAW,EAAA,GAAA,SAAA,EAAA,CAAA;AAEnB,EAAA,MAAM,sBAAsB,YAAY;AACtC,IAA0B,yBAAA,CAAA,KAAA,CAAA,CAAA;AAC1B,IAAS,QAAA,CAAA,WAAA,EAAA,CAAA,CAAA;AAAA,GAAA,CAAA;AAGX,EACE,uBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,sCACG,KAAD,EAAA;AAAA,IAAO,QAAS,EAAA,SAAA;AAAA,IAAU,OAAA,EAAS,MAAM,yBAA0B,CAAA,IAAA,CAAA;AAAA,GAAO,EAAA,6GAAA,CAAA,sCAIzE,kBAAD,EAAA;AAAA,IACE,IAAM,EAAA,sBAAA;AAAA,IACN,MAAA;AAAA,IACA,SAAW,EAAA,mBAAA;AAAA,IACX,OAAA,EAAS,MAAM,yBAA0B,CAAA,KAAA,CAAA;AAAA,GAAA,CAAA,CAAA,CAAA;AAAA;;ACxBjD,MAAM,WAAA,GAAc,CAAC,CACnB,KAAA,CAAA,CAAE,SACF,CAAE,CAAA,KAAA,KAAU,OACZ,IAAA,CAAA,CAAE,IAAS,KAAA,qCAAA,CAAA;AASb,eAAA,wBAAA,CACE,WACA,UAC2C,EAAA;AAC3C,EAAA,MAAM,SAAY,GAAA,MAAM,UAAW,CAAA,kBAAA,CAAmB,EAAE,SAAA,EAAA,CAAA,CAAA;AACxD,EAAA,MAAM,KAAQ,GAAA,SAAA,CAAU,KACrB,CAAA,GAAA,CAAI,CAAQ,IAAA,KAAA;AAxDjB,IAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAyDM,IAAA,MAAM,WAAY,CAAK,EAAA,GAAA,CAAA,EAAA,GAAA,IAAA,CAAA,MAAA,CAAuB,MAA5B,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAoC,UAApC,IAA6C,GAAA,EAAA,GAAA,EAAA,CAAA;AAC/D,IAAM,MAAA,MAAA,GAAS,QACZ,CAAA,MAAA,CAAO,WACP,CAAA,CAAA,GAAA,CAAI,CAAK,CAAA,KAAA,CAAA,CAAE,KACX,CAAA,CAAA,MAAA,CAAO,CAAC,CAAA,KAA4B,OAAQ,CAAA,CAAA,CAAA,CAAA,CAAA;AAC/C,IAAO,OAAA,EAAE,MAAgB,EAAA,MAAA,EAAQ,IAAK,CAAA,MAAA,EAAA,CAAA;AAAA,GAAA,CAAA,CAEvC,MAAO,CAAA,CAAA,IAAA,KAAQ,IAAK,CAAA,MAAA,CAAO,MAAS,GAAA,CAAA,CAAA,CAAA;AACvC,EAAA,OAAO,EAAE,KAAA,EAAA,CAAA;AAAA,CAAA;AAQX,eAAA,0BAAA,CACE,QACA,OACA,EAAA;AACA,EAAM,MAAA,UAAA,GAAa,OAAQ,CAAA,IAAA,CAAK,GAAI,CAAA,aAAA,CAAA,CAAA;AACpC,EAAA,IAAI,CAAC,UAAY,EAAA;AACf,IAAM,MAAA,IAAI,MAAM,CAAmC,gCAAA,EAAA,aAAA,CAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AAGrD,EAAA,MAAM,MAAS,GAAA,MAAM,wBACnB,CAAA,kBAAA,CAAmB,MACnB,CAAA,EAAA,UAAA,CAAA,CAAA;AAEF,EAAO,OAAA,MAAA,CAAO,MAAM,MAAS,GAAA,CAAA,CAAA;AAAA,CAAA;AAQe,SAAA,2BAAA,GAAA;AAC5C,EAAA,MAAM,EAAE,MAAW,EAAA,GAAA,SAAA,EAAA,CAAA;AACnB,EAAA,MAAM,YAAY,kBAAmB,CAAA,MAAA,CAAA,CAAA;AACrC,EAAA,MAAM,aAAa,MAAO,CAAA,aAAA,CAAA,CAAA;AAC1B,EAAA,MAAM,EAAE,OAAA,EAAS,KAAO,EAAA,KAAA,EAAA,GAAU,SAAS,YAAY;AACrD,IAAA,OAAO,yBAAyB,SAAW,EAAA,UAAA,CAAA,CAAA;AAAA,GAAA,EAC1C,CAAC,SAAW,EAAA,UAAA,CAAA,CAAA,CAAA;AAEf,EAAA,IAAI,KAAO,EAAA;AACT,IAAA,2CACG,GAAD,EAAA;AAAA,MAAK,EAAI,EAAA,CAAA;AAAA,KAAA,sCACN,kBAAD,EAAA;AAAA,MAAoB,KAAA;AAAA,KAAA,CAAA,CAAA,CAAA;AAAA,GAAA;AAK1B,EAAI,IAAA,OAAA,IAAW,CAAC,KAAO,EAAA;AACrB,IAAO,OAAA,IAAA,CAAA;AAAA,GAAA;AAGT,EACE,uBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EACG,MAAM,KAAM,CAAA,GAAA,CAAI,CAAC,aAAe,EAAA,KAAA,yCAC9B,GAAD,EAAA;AAAA,IAAK,GAAK,EAAA,KAAA;AAAA,IAAO,EAAI,EAAA,CAAA;AAAA,GAAA,EAClB,mBAAmB,MAClB,CAAA,KAAA,kBAAA,CAAmB,aAAc,CAAA,MAAA,CAAA,wCAChC,GAAD,EAAA;AAAA,IAAK,CAAG,EAAA,CAAA;AAAA,GAAG,EAAA,iCAAA,EACuB,GAChC,kBAAA,KAAA,CAAA,aAAA,CAAC,aAAD,EAAA;AAAA,IAAe,WAAW,aAAc,CAAA,MAAA;AAAA,GAAA,CAAA,CAAA,EAG3C,cAAc,MAAO,CAAA,GAAA,CAAI,CAAC,CAAG,EAAA,CAAA,yCAC3B,kBAAD,EAAA;AAAA,IAAoB,GAAK,EAAA,CAAA;AAAA,IAAG,KAAO,EAAA,CAAA;AAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AAAA;;ACnG/C,MAAM,iBAAoB,GAAA,6BAAA,CAAA;AAW1B,MAAM,yBAAA,GAA4B,CAAC,MAAkC,KAAA,IAAA,CAAA;AAErE,mBAAA,CAAoB,2BAA2B,iBAAmB,EAAA,IAAA,CAAA,CAAA;AAwBrD,MAAA,YAAA,GAAe,CAAC,KAA6B,KAAA;AAhE1D,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAiEE,EAAM,MAAA,EAAE,QAAQ,OAAY,EAAA,GAAA,cAAA,EAAA,CAAA;AAC5B,EAAA,MAAM,IAAO,GAAA,YAAA,EAAA,CAAA;AACb,EAAA,MAAM,UAAU,gBACd,CAAA,KAAA,CAAM,QACN,EAAA,CAAA,UAAA,KACE,WACG,qBAAsB,CAAA;AAAA,IACrB,GAAK,EAAA,iBAAA;AAAA,IACL,eAAiB,EAAA,mDAAA;AAAA,GAElB,CAAA,CAAA,WAAA,EAAA,CACA,OAA0B,CAAA,CAAC,OAA0B,KAAA;AA5E9D,IAAA,IAAA,GAAA,CAAA;AA8EU,IAAA,IAAI,OAAS,EAAA;AACX,MAAO,OAAA,EAAA,CAAA;AAAA,KAAA;AAGT,IAAA,MAAM,EAAE,EAAA,EAAI,SAAW,EAAA,QAAA,EAAU,qBAC/B,OAAQ,CAAA,KAAA,CAAA;AAGV,IAAA,IAAI,CAAC,MAAQ,EAAA;AACX,MAAO,OAAA;AAAA,QACL;AAAA,UACE,IAAI,SAAc,KAAA,KAAA,CAAA;AAAA,UAClB,QAAU,EAAA,gBAAA;AAAA,SAAA;AAAA,OAAA,CAAA;AAAA,KAAA;AAIhB,IAAO,OAAA;AAAA,MACL;AAAA,QACE,EAAI,EAAA,CAAA,GAAA,GAAA,SAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,SAAA,CAAY,MAAQ,EAAA,EAAE,YAAtB,IAAiC,GAAA,GAAA,GAAA,IAAA;AAAA,QACrC,QAAU,EAAA,gBAAA;AAAA,OAAA;AAAA,KAAA,CAAA;AAAA,GAIpB,CAAA,EAAA,CAAC,MAAM,MAAQ,EAAA,OAAA,CAAA,CAAA,CAAA;AAEjB,EAAM,MAAA,aAAA,GAAgB,QAAQ,IAC5B,CAAA,CAAA,CAAA,KAAK,OAAO,CAAE,CAAA,EAAA,KAAO,QAAY,IAAA,MAAA,IAAU,CAAE,CAAA,EAAA,CAAA,CAAA;AAG/C,EAAA,IAAI,aAAe,EAAA;AACjB,IAAA,2CAAQ,iBAAD,EAAA;AAAA,MAAmB,OAAA;AAAA,KAAA,CAAA,CAAA;AAAA,GAAA;AAG5B,EAAA,OAAO,oBAAQ,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,EAApB,CAAA,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAyB,aAAzB,IAAqC,GAAA,EAAA,GAAA,IAAA,CAAA;AAAA,EAAA;AAG9C,SAAA,iBAAA,CAA2B,EAAE,OAA4C,EAAA,EAAA;AACvE,EAAA,MAAM,EAAE,OAAA,EAAS,KAAU,EAAA,GAAA,QAAA,CAAS,YAAY;AAnHlD,IAAA,IAAA,EAAA,CAAA;AAoHI,IAAM,MAAA,QAAA,GAAW,QAAQ,GACvB,CAAA,OAAO,EAAE,EAAI,EAAA,SAAA,EAAW,UAAU,MAAa,EAAA,KAAA;AAC7C,MAAI,IAAA;AACF,QAAA,IAAI,MAAM,SAAW,EAAA;AACnB,UAAO,OAAA,MAAA,CAAA;AAAA,SAAA;AAAA,OAET,CAAA,MAAA;AAAA,OAAA;AAIF,MAAO,OAAA,IAAA,CAAA;AAAA,KAAA,CAAA,CAAA;AAGX,IAAA,OAAQ,aAAM,OAAQ,CAAA,GAAA,CAAI,QAAW,CAAA,EAAA,IAAA,CAAK,aAAlC,IAA8C,GAAA,EAAA,GAAA,IAAA,CAAA;AAAA,GAAA,EACrD,CAAC,OAAA,CAAA,CAAA,CAAA;AAEJ,EAAI,IAAA,OAAA,IAAW,CAAC,KAAO,EAAA;AACrB,IAAO,OAAA,IAAA,CAAA;AAAA,GAAA;AAGT,EAAO,OAAA,KAAA,CAAA;AAAA,CAAA;AAGT,YAAA,CAAa,IAAO,GAAA,yBAAA;;ACzHpB,SAAA,MAAA,CAAgB,GAAuB,CAAgC,EAAA;AACrE,EAAA,OAAO,QACL,CAAK,IAAA,CAAA,CAAA,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,CAAA,CAAG,iBAAkB,CAAA,OAAA,CAAA,8BAAgB,iBAAkB,CAAA,OAAA,CAAA,CAAA,CAAA,CAAA;AAAA,CAAA;AAQzD,SAAA,MAAA,CAAgB,IAAc,EAAA;AACnC,EAAA,OAAO,CAAC,MAAA,KAAmB,MAAO,CAAA,MAAA,CAAO,IAAM,EAAA,IAAA,CAAA,CAAA;AAAA,CAAA;AAO1C,SAAA,eAAA,CAAyB,IAAc,EAAA;AAC5C,EAAA,OAAO,CAAC,MAAmB,KAAA;AACzB,IAAA,IAAI,CAAC,MAAA,CAAO,MAAO,CAAA,IAAA,EAAM,WAAc,CAAA,EAAA;AACrC,MAAO,OAAA,KAAA,CAAA;AAAA,KAAA;AAET,IAAA,MAAM,eAAkB,GAAA,MAAA,CAAA;AACxB,IAAO,OAAA,MAAA,CAAO,eAAgB,CAAA,IAAA,CAAK,IAAM,EAAA,IAAA,CAAA,CAAA;AAAA,GAAA,CAAA;AAAA,CAAA;AAQtC,SAAA,WAAA,CAAqB,SAAmB,EAAA;AAC7C,EAAA,OAAO,CAAC,MAAgB,KAAA;AAnD1B,IAAA,IAAA,EAAA,CAAA;AAmD6B,IAAO,OAAA,MAAA,CAAA,CAAA,EAAA,GAAA,MAAA,CAAO,QAAP,KAAA,IAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAiB,SAAW,EAAA,SAAA,CAAA,CAAA;AAAA,GAAA,CAAA;AAAA;;AC7BzD,MAAM,oBAAuB,GAAA,oBAAA;AAQ7B,MAAM,kBAAkB,mBAAoB,CAAA,QAAA;AAM5C,MAAM,sBAAsB,mBAAoB,CAAA;;ACWhD,MAAM,gBAAgB,YAAa,CAAA;AAAA,EACxC,EAAI,EAAA,SAAA;AAAA,EACJ,IAAM,EAAA;AAAA,IACJ,gBAAiB,CAAA;AAAA,MACf,GAAK,EAAA,aAAA;AAAA,MACL,IAAM,EAAA;AAAA,QACJ,YAAc,EAAA,eAAA;AAAA,QACd,QAAU,EAAA,WAAA;AAAA,OAAA;AAAA,MAEZ,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,eACxB,IAAI,aAAA,CAAc,EAAE,YAAc,EAAA,QAAA,EAAA,CAAA;AAAA,KAAA,CAAA;AAAA,IAEtC,gBAAiB,CAAA;AAAA,MACf,GAAK,EAAA,qBAAA;AAAA,MACL,IAAA,EAAM,EAAE,UAAY,EAAA,aAAA,EAAA;AAAA,MACpB,SAAS,CAAC,EAAE,UACV,EAAA,KAAA,IAAI,0BAA0B,EAAE,UAAA,EAAA,CAAA;AAAA,KAAA,CAAA;AAAA,GAAA;AAAA,EAGtC,MAAQ,EAAA;AAAA,IACN,YAAc,EAAA,YAAA;AAAA,IACd,aAAe,EAAA,cAAA;AAAA,GAAA;AAAA,EAEjB,cAAgB,EAAA;AAAA,IACd,eAAiB,EAAA,uBAAA;AAAA,IACjB,WAAa,EAAA,mBAAA;AAAA,GAAA;AAAA,CAAA,EAAA;AAKJ,MAAA,gBAAA,GACX,aAAc,CAAA,OAAA,CACZ,uBAAwB,CAAA;AAAA,EACtB,IAAM,EAAA,kBAAA;AAAA,EACN,WAAW,MACT,OAAO,yBAA4B,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,WAAA,CAAA;AAAA,EACjD,UAAY,EAAA,YAAA;AAAA,CAAA,CAAA,EAAA;AAKL,MAAA,iBAAA,GAAuC,aAAc,CAAA,OAAA,CAChE,uBAAwB,CAAA;AAAA,EACtB,IAAM,EAAA,mBAAA;AAAA,EACN,WAAW,MACT,OAAO,yBAAkC,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,iBAAA,CAAA;AAAA,EACvD,UAAY,EAAA,cAAA;AAAA,CAAA,CAAA,EAAA;AAKH,MAAA,eAAA,GACX,aAAc,CAAA,OAAA,CACZ,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,iBAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MAAM,OAAO,yBAA0B,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,SAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAMpD,MAAA,eAAA,GAAkB,aAAc,CAAA,OAAA,CAC3C,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,iBAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAgC,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,eAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAM9C,MAAA,oBAAA,GACX,aAAc,CAAA,OAAA,CACZ,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,sBAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAA+B,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,cAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAM/C,MAAA,uBAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,yBAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAkC,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,iBAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAMhD,MAAA,0BAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,4BAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAqC,CAAA,CAAA,IAAA,CAC1C,OAAK,CAAE,CAAA,oBAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAOJ,MAAA,sBAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,wBAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAiC,CAAA,CAAA,IAAA,CAAK,OAAK,CAAE,CAAA,gBAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAM/C,MAAA,6BAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,+BAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAwC,CAAA,CAAA,IAAA,CAC7C,OAAK,CAAE,CAAA,uBAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAOJ,MAAA,gCAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,kCAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAA2C,CAAA,CAAA,IAAA,CAChD,OAAK,CAAE,CAAA,0BAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAOJ,MAAA,4BAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,8BAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAuC,CAAA,CAAA,IAAA,CAC5C,OAAK,CAAE,CAAA,sBAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA,EAAA;AAOJ,MAAA,mBAAA,GAEM,aAAc,CAAA,OAAA,CAC/B,wBAAyB,CAAA;AAAA,EACvB,IAAM,EAAA,qBAAA;AAAA,EACN,SAAW,EAAA;AAAA,IACT,MAAM,MACJ,OAAO,yBAAoC,CAAA,CAAA,IAAA,CACzC,OAAK,CAAE,CAAA,mBAAA,CAAA;AAAA,GAAA;AAAA,CAAA,CAAA;;;;"}